{"version":3,"file":"buckyos.umd.js","sources":["../src/krpc_client.ts","../src/auth_client.ts","../node_modules/.pnpm/jssha@3.3.1/node_modules/jssha/dist/sha.mjs","../src/verify-hub-client.ts","../src/account.ts","../src/task_mgr_client.ts","../src/opendan_client.ts","../src/runtime.ts","../src/index.ts"],"sourcesContent":["type KRPCSys = [number] | [number, string]\n\ninterface KRPCRequest<TParams> {\n  method: string\n  params: TParams\n  sys: KRPCSys\n}\n\ninterface KRPCSuccessResponse<TResult> {\n  result: TResult\n  sys?: KRPCSys\n  error?: undefined\n}\n\ninterface KRPCErrorResponse {\n  error: string\n  sys?: KRPCSys\n  result?: undefined\n}\n\ntype KRPCResponse<TResult> = KRPCSuccessResponse<TResult> | KRPCErrorResponse\n\nenum RPCProtocolType {\n  HttpPostJson = 'HttpPostJson',\n}\n\nclass RPCError extends Error {\n  constructor(message: string) {\n    super(message)\n    this.name = 'RPCError'\n  }\n}\n\ntype Fetcher = (input: RequestInfo | URL, init?: RequestInit) => Promise<Response>\n\nconst hasWindowFetch = typeof window !== 'undefined' && typeof window.fetch === 'function'\nconst hasGlobalFetch = typeof globalThis !== 'undefined' && typeof globalThis.fetch === 'function'\n\nconst defaultFetcher: Fetcher = hasWindowFetch\n  ? window.fetch.bind(window)\n  : hasGlobalFetch\n    ? globalThis.fetch.bind(globalThis)\n    : async () => {\n        throw new RPCError('fetch is not available in this runtime')\n      }\n\nclass kRPCClient {\n  private serverUrl: string\n  private protocolType: RPCProtocolType\n  private seq: number\n  private sessionToken: string | null\n  private initToken: string | null\n  private fetcher: Fetcher\n\n  constructor(url: string, token: string | null = null, seq: number | null = null, fetcher: Fetcher = defaultFetcher) {\n    this.serverUrl = url\n    this.protocolType = RPCProtocolType.HttpPostJson\n    this.seq = seq ?? Date.now()\n    this.sessionToken = token || null\n    this.initToken = token || null\n    this.fetcher = fetcher\n  }\n\n  async call<TResult, TParams>(method: string, params: TParams): Promise<TResult> {\n    return this._call<TResult, TParams>(method, params)\n  }\n\n  setSeq(seq: number) {\n    this.seq = seq\n  }\n\n  resetSessionToken() {\n    this.sessionToken = this.initToken\n  }\n\n  setSessionToken(token: string | null) {\n    this.sessionToken = token\n  }\n\n  getSessionToken(): string | null {\n    return this.sessionToken\n  }\n\n  private buildRequest<TParams>(method: string, params: TParams, seq: number): KRPCRequest<TParams> {\n    const sys: KRPCSys = this.sessionToken ? [seq, this.sessionToken] : [seq]\n    return {\n      method,\n      params,\n      sys,\n    }\n  }\n\n  private parseSys(sys: unknown, currentSeq: number): string | null {\n    if (sys === undefined || sys === null) {\n      return null\n    }\n\n    if (!Array.isArray(sys)) {\n      throw new RPCError('sys is not array')\n    }\n\n    if (sys.length < 1) {\n      throw new RPCError('sys is empty')\n    }\n\n    const responseSeq = sys[0]\n    if (typeof responseSeq !== 'number') {\n      throw new RPCError('sys[0] is not number')\n    }\n    if (responseSeq !== currentSeq) {\n      throw new RPCError(`seq not match: ${responseSeq}!=${currentSeq}`)\n    }\n\n    if (sys.length >= 2) {\n      const token = sys[1]\n      if (typeof token !== 'string') {\n        throw new RPCError('sys[1] is not string')\n      }\n      return token\n    }\n\n    return null\n  }\n\n  private async _call<TResult, TParams>(method: string, params: TParams): Promise<TResult> {\n    const currentSeq = this.seq\n    this.seq += 1\n    const requestBody = this.buildRequest(method, params, currentSeq)\n\n    try {\n      const response = await this.fetcher(this.serverUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(requestBody),\n      })\n\n      if (!response.ok) {\n        throw new RPCError(`RPC call error: ${response.status}`)\n      }\n\n      const rpcResponse: KRPCResponse<TResult> = await response.json()\n\n      const updatedToken = this.parseSys(rpcResponse.sys, currentSeq)\n      if (updatedToken) {\n        this.sessionToken = updatedToken\n      }\n\n      if ('error' in rpcResponse && rpcResponse.error) {\n        throw new RPCError(`RPC call error: ${rpcResponse.error}`)\n      }\n\n      if (!('result' in rpcResponse) || rpcResponse.result === undefined) {\n        throw new RPCError('RPC response missing result')\n      }\n\n      return rpcResponse.result\n    } catch (error) {\n      if (error instanceof RPCError) {\n        throw error\n      }\n      const message = error instanceof Error ? error.message : String(error)\n      throw new RPCError(`RPC call failed: ${message}`)\n    }\n  }\n}\n\nexport { kRPCClient, RPCProtocolType, RPCError }\nexport type { KRPCRequest, KRPCResponse, KRPCSys }\n","import { AccountInfo } from \"./account\";\n\n\nexport class AuthClient {\n    zone_hostname:string;\n    clientId:string;\n    cookieOptions:any;\n    authWindow:Window | null;\n\n\n    constructor(zone_base_url:string, appId:string) {\n        this.zone_hostname = zone_base_url;\n        this.clientId = appId;\n        this.authWindow = null;\n\n    }\n\n\n    async login(redirect_uri:string|null=null) : Promise<AccountInfo|null> {\n        try {\n            const token = await this._openAuthWindow(redirect_uri);\n            let account_info = JSON.parse(token) as AccountInfo;\n            return account_info;\n        } catch (error) {\n            const message = error instanceof Error ? error.message : String(error ?? 'Login failed');\n            throw new Error(message);\n        }\n    }\n\n    async request(action:string,params:any){\n        //let token = await this.login();\n        //return token;\n    }\n\n    async _openAuthWindow(redirect_uri:string|null=null) : Promise<string> {\n        return new Promise((resolve, reject) => {\n            const width = 500;\n            const height = 600;\n            const left = (window.screen.width / 2) - (width / 2);\n            const top = (window.screen.height / 2) - (height / 2);\n            let sso_url = window.location.protocol + \"//sys.\" + this.zone_hostname + \"/login.html\";\n            //console.log(\"sso_url: \", sso_url);\n            \n            const redirectTarget = redirect_uri ?? window.location.href;\n            const authUrl = `${sso_url}?client_id=${this.clientId}&redirect_uri=${encodeURIComponent(redirectTarget)}&response_type=token`;\n            alert(authUrl);\n            this.authWindow = window.open(authUrl, 'BuckyOS Login', `width=${width},height=${height},top=${top},left=${left}`);\n\n            //TODO: how to get this message?\n            window.addEventListener('message', (event) => {\n                console.log(\"message event\",event);\n                if (event.origin !== new URL(sso_url).origin) {\n                    return;\n                }\n\n                const { token, error } = event.data;\n\n                if (token) {\n                    \n                    resolve(token);\n                } else {\n                    reject(error || 'BuckyOSLogin failed');\n                }\n\n                if (this.authWindow) {\n                    this.authWindow.close();\n                }\n            }, false);\n        });\n    }\n\n}\n","/**\n * A JavaScript implementation of the SHA family of hashes - defined in FIPS PUB 180-4, FIPS PUB 202,\n * and SP 800-185 - as well as the corresponding HMAC implementation as defined in FIPS PUB 198-1.\n *\n * Copyright 2008-2023 Brian Turek, 1998-2009 Paul Johnston & Contributors\n * Distributed under the BSD License\n * See http://caligatio.github.com/jsSHA/ for more information\n */\nconst t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",n=\"ARRAYBUFFER not supported by this environment\",e=\"UINT8ARRAY not supported by this environment\";function r(t,n,e,r){let i,s,o;const h=n||[0],u=(e=e||0)>>>3,w=-1===r?3:0;for(i=0;i<t.length;i+=1)o=i+u,s=o>>>2,h.length<=s&&h.push(0),h[s]|=t[i]<<8*(w+r*(o%4));return{value:h,binLen:8*t.length+e}}function i(i,s,o){switch(s){case\"UTF8\":case\"UTF16BE\":case\"UTF16LE\":break;default:throw new Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\")}switch(i){case\"HEX\":return function(t,n,e){return function(t,n,e,r){let i,s,o,h;if(0!=t.length%2)throw new Error(\"String of HEX type must be in byte increments\");const u=n||[0],w=(e=e||0)>>>3,c=-1===r?3:0;for(i=0;i<t.length;i+=2){if(s=parseInt(t.substr(i,2),16),isNaN(s))throw new Error(\"String of HEX type contains invalid characters\");for(h=(i>>>1)+w,o=h>>>2;u.length<=o;)u.push(0);u[o]|=s<<8*(c+r*(h%4))}return{value:u,binLen:4*t.length+e}}(t,n,e,o)};case\"TEXT\":return function(t,n,e){return function(t,n,e,r,i){let s,o,h,u,w,c,f,a,l=0;const A=e||[0],E=(r=r||0)>>>3;if(\"UTF8\"===n)for(f=-1===i?3:0,h=0;h<t.length;h+=1)for(s=t.charCodeAt(h),o=[],128>s?o.push(s):2048>s?(o.push(192|s>>>6),o.push(128|63&s)):55296>s||57344<=s?o.push(224|s>>>12,128|s>>>6&63,128|63&s):(h+=1,s=65536+((1023&s)<<10|1023&t.charCodeAt(h)),o.push(240|s>>>18,128|s>>>12&63,128|s>>>6&63,128|63&s)),u=0;u<o.length;u+=1){for(c=l+E,w=c>>>2;A.length<=w;)A.push(0);A[w]|=o[u]<<8*(f+i*(c%4)),l+=1}else for(f=-1===i?2:0,a=\"UTF16LE\"===n&&1!==i||\"UTF16LE\"!==n&&1===i,h=0;h<t.length;h+=1){for(s=t.charCodeAt(h),!0===a&&(u=255&s,s=u<<8|s>>>8),c=l+E,w=c>>>2;A.length<=w;)A.push(0);A[w]|=s<<8*(f+i*(c%4)),l+=2}return{value:A,binLen:8*l+r}}(t,s,n,e,o)};case\"B64\":return function(n,e,r){return function(n,e,r,i){let s,o,h,u,w,c,f,a=0;const l=e||[0],A=(r=r||0)>>>3,E=-1===i?3:0,H=n.indexOf(\"=\");if(-1===n.search(/^[a-zA-Z0-9=+/]+$/))throw new Error(\"Invalid character in base-64 string\");if(n=n.replace(/=/g,\"\"),-1!==H&&H<n.length)throw new Error(\"Invalid '=' found in base-64 string\");for(o=0;o<n.length;o+=4){for(w=n.substr(o,4),u=0,h=0;h<w.length;h+=1)s=t.indexOf(w.charAt(h)),u|=s<<18-6*h;for(h=0;h<w.length-1;h+=1){for(f=a+A,c=f>>>2;l.length<=c;)l.push(0);l[c]|=(u>>>16-8*h&255)<<8*(E+i*(f%4)),a+=1}}return{value:l,binLen:8*a+r}}(n,e,r,o)};case\"BYTES\":return function(t,n,e){return function(t,n,e,r){let i,s,o,h;const u=n||[0],w=(e=e||0)>>>3,c=-1===r?3:0;for(s=0;s<t.length;s+=1)i=t.charCodeAt(s),h=s+w,o=h>>>2,u.length<=o&&u.push(0),u[o]|=i<<8*(c+r*(h%4));return{value:u,binLen:8*t.length+e}}(t,n,e,o)};case\"ARRAYBUFFER\":try{new ArrayBuffer(0)}catch(t){throw new Error(n)}return function(t,n,e){return function(t,n,e,i){return r(new Uint8Array(t),n,e,i)}(t,n,e,o)};case\"UINT8ARRAY\":try{new Uint8Array(0)}catch(t){throw new Error(e)}return function(t,n,e){return r(t,n,e,o)};default:throw new Error(\"format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY\")}}function s(r,i,s,o){switch(r){case\"HEX\":return function(t){return function(t,n,e,r){const i=\"0123456789abcdef\";let s,o,h=\"\";const u=n/8,w=-1===e?3:0;for(s=0;s<u;s+=1)o=t[s>>>2]>>>8*(w+e*(s%4)),h+=i.charAt(o>>>4&15)+i.charAt(15&o);return r.outputUpper?h.toUpperCase():h}(t,i,s,o)};case\"B64\":return function(n){return function(n,e,r,i){let s,o,h,u,w,c=\"\";const f=e/8,a=-1===r?3:0;for(s=0;s<f;s+=3)for(u=s+1<f?n[s+1>>>2]:0,w=s+2<f?n[s+2>>>2]:0,h=(n[s>>>2]>>>8*(a+r*(s%4))&255)<<16|(u>>>8*(a+r*((s+1)%4))&255)<<8|w>>>8*(a+r*((s+2)%4))&255,o=0;o<4;o+=1)c+=8*s+6*o<=e?t.charAt(h>>>6*(3-o)&63):i.b64Pad;return c}(n,i,s,o)};case\"BYTES\":return function(t){return function(t,n,e){let r,i,s=\"\";const o=n/8,h=-1===e?3:0;for(r=0;r<o;r+=1)i=t[r>>>2]>>>8*(h+e*(r%4))&255,s+=String.fromCharCode(i);return s}(t,i,s)};case\"ARRAYBUFFER\":try{new ArrayBuffer(0)}catch(t){throw new Error(n)}return function(t){return function(t,n,e){let r;const i=n/8,s=new ArrayBuffer(i),o=new Uint8Array(s),h=-1===e?3:0;for(r=0;r<i;r+=1)o[r]=t[r>>>2]>>>8*(h+e*(r%4))&255;return s}(t,i,s)};case\"UINT8ARRAY\":try{new Uint8Array(0)}catch(t){throw new Error(e)}return function(t){return function(t,n,e){let r;const i=n/8,s=-1===e?3:0,o=new Uint8Array(i);for(r=0;r<i;r+=1)o[r]=t[r>>>2]>>>8*(s+e*(r%4))&255;return o}(t,i,s)};default:throw new Error(\"format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY\")}}const o=4294967296,h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],w=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c=\"Chosen SHA variant is not supported\",f=\"Cannot set numRounds with MAC\";function a(t,n){let e,r;const i=t.binLen>>>3,s=n.binLen>>>3,o=i<<3,h=4-i<<3;if(i%4!=0){for(e=0;e<s;e+=4)r=i+e>>>2,t.value[r]|=n.value[e>>>2]<<o,t.value.push(0),t.value[r+1]|=n.value[e>>>2]>>>h;return(t.value.length<<2)-4>=s+i&&t.value.pop(),{value:t.value,binLen:t.binLen+n.binLen}}return{value:t.value.concat(n.value),binLen:t.binLen+n.binLen}}function l(t){const n={outputUpper:!1,b64Pad:\"=\",outputLen:-1},e=t||{},r=\"Output length must be a multiple of 8\";if(n.outputUpper=e.outputUpper||!1,e.b64Pad&&(n.b64Pad=e.b64Pad),e.outputLen){if(e.outputLen%8!=0)throw new Error(r);n.outputLen=e.outputLen}else if(e.shakeLen){if(e.shakeLen%8!=0)throw new Error(r);n.outputLen=e.shakeLen}if(\"boolean\"!=typeof n.outputUpper)throw new Error(\"Invalid outputUpper formatting option\");if(\"string\"!=typeof n.b64Pad)throw new Error(\"Invalid b64Pad formatting option\");return n}function A(t,n,e,r){const s=t+\" must include a value and format\";if(!n){if(!r)throw new Error(s);return r}if(void 0===n.value||!n.format)throw new Error(s);return i(n.format,n.encoding||\"UTF8\",e)(n.value)}class E{constructor(t,n,e){const r=e||{};if(this.t=n,this.i=r.encoding||\"UTF8\",this.numRounds=r.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error(\"numRounds must a integer >= 1\");this.o=t,this.h=[],this.u=0,this.l=!1,this.A=0,this.H=!1,this.S=[],this.p=[]}update(t){let n,e=0;const r=this.m>>>5,i=this.C(t,this.h,this.u),s=i.binLen,o=i.value,h=s>>>5;for(n=0;n<h;n+=r)e+this.m<=s&&(this.U=this.v(o.slice(n,n+r),this.U),e+=this.m);return this.A+=e,this.h=o.slice(e>>>5),this.u=s%this.m,this.l=!0,this}getHash(t,n){let e,r,i=this.R;const o=l(n);if(this.K){if(-1===o.outputLen)throw new Error(\"Output length must be specified in options\");i=o.outputLen}const h=s(t,i,this.T,o);if(this.H&&this.g)return h(this.g(o));for(r=this.F(this.h.slice(),this.u,this.A,this.L(this.U),i),e=1;e<this.numRounds;e+=1)this.K&&i%32!=0&&(r[r.length-1]&=16777215>>>24-i%32),r=this.F(r,i,0,this.B(this.o),i);return h(r)}setHMACKey(t,n,e){if(!this.M)throw new Error(\"Variant does not support HMAC\");if(this.l)throw new Error(\"Cannot set MAC key after calling update\");const r=i(n,(e||{}).encoding||\"UTF8\",this.T);this.k(r(t))}k(t){const n=this.m>>>3,e=n/4-1;let r;if(1!==this.numRounds)throw new Error(f);if(this.H)throw new Error(\"MAC key already set\");for(n<t.binLen/8&&(t.value=this.F(t.value,t.binLen,0,this.B(this.o),this.R));t.value.length<=e;)t.value.push(0);for(r=0;r<=e;r+=1)this.S[r]=909522486^t.value[r],this.p[r]=1549556828^t.value[r];this.U=this.v(this.S,this.U),this.A=this.m,this.H=!0}getHMAC(t,n){const e=l(n);return s(t,this.R,this.T,e)(this.Y())}Y(){let t;if(!this.H)throw new Error(\"Cannot call getHMAC without first setting MAC key\");const n=this.F(this.h.slice(),this.u,this.A,this.L(this.U),this.R);return t=this.v(this.p,this.B(this.o)),t=this.F(n,this.R,this.m,t,this.R),t}}function H(t,n){return t<<n|t>>>32-n}function S(t,n){return t>>>n|t<<32-n}function b(t,n){return t>>>n}function p(t,n,e){return t^n^e}function d(t,n,e){return t&n^~t&e}function m(t,n,e){return t&n^t&e^n&e}function C(t){return S(t,2)^S(t,13)^S(t,22)}function y(t,n){const e=(65535&t)+(65535&n);return(65535&(t>>>16)+(n>>>16)+(e>>>16))<<16|65535&e}function U(t,n,e,r){const i=(65535&t)+(65535&n)+(65535&e)+(65535&r);return(65535&(t>>>16)+(n>>>16)+(e>>>16)+(r>>>16)+(i>>>16))<<16|65535&i}function v(t,n,e,r,i){const s=(65535&t)+(65535&n)+(65535&e)+(65535&r)+(65535&i);return(65535&(t>>>16)+(n>>>16)+(e>>>16)+(r>>>16)+(i>>>16)+(s>>>16))<<16|65535&s}function R(t){return S(t,7)^S(t,18)^b(t,3)}function K(t){return S(t,6)^S(t,11)^S(t,25)}function T(t){return[1732584193,4023233417,2562383102,271733878,3285377520]}function g(t,n){let e,r,i,s,o,h,u;const w=[];for(e=n[0],r=n[1],i=n[2],s=n[3],o=n[4],u=0;u<80;u+=1)w[u]=u<16?t[u]:H(w[u-3]^w[u-8]^w[u-14]^w[u-16],1),h=u<20?v(H(e,5),d(r,i,s),o,1518500249,w[u]):u<40?v(H(e,5),p(r,i,s),o,1859775393,w[u]):u<60?v(H(e,5),m(r,i,s),o,2400959708,w[u]):v(H(e,5),p(r,i,s),o,3395469782,w[u]),o=s,s=i,i=H(r,30),r=e,e=h;return n[0]=y(e,n[0]),n[1]=y(r,n[1]),n[2]=y(i,n[2]),n[3]=y(s,n[3]),n[4]=y(o,n[4]),n}function F(t,n,e,r){let i;const s=15+(n+65>>>9<<4),h=n+e;for(;t.length<=s;)t.push(0);for(t[n>>>5]|=128<<24-n%32,t[s]=4294967295&h,t[s-1]=h/o|0,i=0;i<t.length;i+=16)r=g(t.slice(i,i+16),r);return r}let L=class extends E{constructor(t,n,e){if(\"SHA-1\"!==t)throw new Error(c);super(t,n,e);const r=e||{};this.M=!0,this.g=this.Y,this.T=-1,this.C=i(this.t,this.i,this.T),this.v=g,this.L=function(t){return t.slice()},this.B=T,this.F=F,this.U=[1732584193,4023233417,2562383102,271733878,3285377520],this.m=512,this.R=160,this.K=!1,r.hmacKey&&this.k(A(\"hmacKey\",r.hmacKey,this.T))}};function B(t){let n;return n=\"SHA-224\"==t?u.slice():w.slice(),n}function M(t,n){let e,r,i,s,o,u,w,c,f,a,l;const A=[];for(e=n[0],r=n[1],i=n[2],s=n[3],o=n[4],u=n[5],w=n[6],c=n[7],l=0;l<64;l+=1)A[l]=l<16?t[l]:U(S(E=A[l-2],17)^S(E,19)^b(E,10),A[l-7],R(A[l-15]),A[l-16]),f=v(c,K(o),d(o,u,w),h[l],A[l]),a=y(C(e),m(e,r,i)),c=w,w=u,u=o,o=y(s,f),s=i,i=r,r=e,e=y(f,a);var E;return n[0]=y(e,n[0]),n[1]=y(r,n[1]),n[2]=y(i,n[2]),n[3]=y(s,n[3]),n[4]=y(o,n[4]),n[5]=y(u,n[5]),n[6]=y(w,n[6]),n[7]=y(c,n[7]),n}let k=class extends E{constructor(t,n,e){if(\"SHA-224\"!==t&&\"SHA-256\"!==t)throw new Error(c);super(t,n,e);const r=e||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=i(this.t,this.i,this.T),this.v=M,this.L=function(t){return t.slice()},this.B=B,this.F=function(n,e,r,i){return function(t,n,e,r,i){let s,h;const u=15+(n+65>>>9<<4),w=n+e;for(;t.length<=u;)t.push(0);for(t[n>>>5]|=128<<24-n%32,t[u]=4294967295&w,t[u-1]=w/o|0,s=0;s<t.length;s+=16)r=M(t.slice(s,s+16),r);return h=\"SHA-224\"===i?[r[0],r[1],r[2],r[3],r[4],r[5],r[6]]:r,h}(n,e,r,i,t)},this.U=B(t),this.m=512,this.R=\"SHA-224\"===t?224:256,this.K=!1,r.hmacKey&&this.k(A(\"hmacKey\",r.hmacKey,this.T))}};class Y{constructor(t,n){this.N=t,this.I=n}}function N(t,n){let e;return n>32?(e=64-n,new Y(t.I<<n|t.N>>>e,t.N<<n|t.I>>>e)):0!==n?(e=32-n,new Y(t.N<<n|t.I>>>e,t.I<<n|t.N>>>e)):t}function I(t,n){let e;return n<32?(e=32-n,new Y(t.N>>>n|t.I<<e,t.I>>>n|t.N<<e)):(e=64-n,new Y(t.I>>>n|t.N<<e,t.N>>>n|t.I<<e))}function X(t,n){return new Y(t.N>>>n,t.I>>>n|t.N<<32-n)}function z(t,n,e){return new Y(t.N&n.N^t.N&e.N^n.N&e.N,t.I&n.I^t.I&e.I^n.I&e.I)}function x(t){const n=I(t,28),e=I(t,34),r=I(t,39);return new Y(n.N^e.N^r.N,n.I^e.I^r.I)}function _(t,n){let e,r;e=(65535&t.I)+(65535&n.I),r=(t.I>>>16)+(n.I>>>16)+(e>>>16);const i=(65535&r)<<16|65535&e;e=(65535&t.N)+(65535&n.N)+(r>>>16),r=(t.N>>>16)+(n.N>>>16)+(e>>>16);return new Y((65535&r)<<16|65535&e,i)}function O(t,n,e,r){let i,s;i=(65535&t.I)+(65535&n.I)+(65535&e.I)+(65535&r.I),s=(t.I>>>16)+(n.I>>>16)+(e.I>>>16)+(r.I>>>16)+(i>>>16);const o=(65535&s)<<16|65535&i;i=(65535&t.N)+(65535&n.N)+(65535&e.N)+(65535&r.N)+(s>>>16),s=(t.N>>>16)+(n.N>>>16)+(e.N>>>16)+(r.N>>>16)+(i>>>16);return new Y((65535&s)<<16|65535&i,o)}function P(t,n,e,r,i){let s,o;s=(65535&t.I)+(65535&n.I)+(65535&e.I)+(65535&r.I)+(65535&i.I),o=(t.I>>>16)+(n.I>>>16)+(e.I>>>16)+(r.I>>>16)+(i.I>>>16)+(s>>>16);const h=(65535&o)<<16|65535&s;s=(65535&t.N)+(65535&n.N)+(65535&e.N)+(65535&r.N)+(65535&i.N)+(o>>>16),o=(t.N>>>16)+(n.N>>>16)+(e.N>>>16)+(r.N>>>16)+(i.N>>>16)+(s>>>16);return new Y((65535&o)<<16|65535&s,h)}function V(t,n){return new Y(t.N^n.N,t.I^n.I)}function Z(t){const n=I(t,19),e=I(t,61),r=X(t,6);return new Y(n.N^e.N^r.N,n.I^e.I^r.I)}function j(t){const n=I(t,1),e=I(t,8),r=X(t,7);return new Y(n.N^e.N^r.N,n.I^e.I^r.I)}function q(t){const n=I(t,14),e=I(t,18),r=I(t,41);return new Y(n.N^e.N^r.N,n.I^e.I^r.I)}const D=[new Y(h[0],3609767458),new Y(h[1],602891725),new Y(h[2],3964484399),new Y(h[3],2173295548),new Y(h[4],4081628472),new Y(h[5],3053834265),new Y(h[6],2937671579),new Y(h[7],3664609560),new Y(h[8],2734883394),new Y(h[9],1164996542),new Y(h[10],1323610764),new Y(h[11],3590304994),new Y(h[12],4068182383),new Y(h[13],991336113),new Y(h[14],633803317),new Y(h[15],3479774868),new Y(h[16],2666613458),new Y(h[17],944711139),new Y(h[18],2341262773),new Y(h[19],2007800933),new Y(h[20],1495990901),new Y(h[21],1856431235),new Y(h[22],3175218132),new Y(h[23],2198950837),new Y(h[24],3999719339),new Y(h[25],766784016),new Y(h[26],2566594879),new Y(h[27],3203337956),new Y(h[28],1034457026),new Y(h[29],2466948901),new Y(h[30],3758326383),new Y(h[31],168717936),new Y(h[32],1188179964),new Y(h[33],1546045734),new Y(h[34],1522805485),new Y(h[35],2643833823),new Y(h[36],2343527390),new Y(h[37],1014477480),new Y(h[38],1206759142),new Y(h[39],344077627),new Y(h[40],1290863460),new Y(h[41],3158454273),new Y(h[42],3505952657),new Y(h[43],106217008),new Y(h[44],3606008344),new Y(h[45],1432725776),new Y(h[46],1467031594),new Y(h[47],851169720),new Y(h[48],3100823752),new Y(h[49],1363258195),new Y(h[50],3750685593),new Y(h[51],3785050280),new Y(h[52],3318307427),new Y(h[53],3812723403),new Y(h[54],2003034995),new Y(h[55],3602036899),new Y(h[56],1575990012),new Y(h[57],1125592928),new Y(h[58],2716904306),new Y(h[59],442776044),new Y(h[60],593698344),new Y(h[61],3733110249),new Y(h[62],2999351573),new Y(h[63],3815920427),new Y(3391569614,3928383900),new Y(3515267271,566280711),new Y(3940187606,3454069534),new Y(4118630271,4000239992),new Y(116418474,1914138554),new Y(174292421,2731055270),new Y(289380356,3203993006),new Y(460393269,320620315),new Y(685471733,587496836),new Y(852142971,1086792851),new Y(1017036298,365543100),new Y(1126000580,2618297676),new Y(1288033470,3409855158),new Y(1501505948,4234509866),new Y(1607167915,987167468),new Y(1816402316,1246189591)];function G(t){return\"SHA-384\"===t?[new Y(3418070365,u[0]),new Y(1654270250,u[1]),new Y(2438529370,u[2]),new Y(355462360,u[3]),new Y(1731405415,u[4]),new Y(41048885895,u[5]),new Y(3675008525,u[6]),new Y(1203062813,u[7])]:[new Y(w[0],4089235720),new Y(w[1],2227873595),new Y(w[2],4271175723),new Y(w[3],1595750129),new Y(w[4],2917565137),new Y(w[5],725511199),new Y(w[6],4215389547),new Y(w[7],327033209)]}function J(t,n){let e,r,i,s,o,h,u,w,c,f,a,l;const A=[];for(e=n[0],r=n[1],i=n[2],s=n[3],o=n[4],h=n[5],u=n[6],w=n[7],a=0;a<80;a+=1)a<16?(l=2*a,A[a]=new Y(t[l],t[l+1])):A[a]=O(Z(A[a-2]),A[a-7],j(A[a-15]),A[a-16]),c=P(w,q(o),(H=h,S=u,new Y((E=o).N&H.N^~E.N&S.N,E.I&H.I^~E.I&S.I)),D[a],A[a]),f=_(x(e),z(e,r,i)),w=u,u=h,h=o,o=_(s,c),s=i,i=r,r=e,e=_(c,f);var E,H,S;return n[0]=_(e,n[0]),n[1]=_(r,n[1]),n[2]=_(i,n[2]),n[3]=_(s,n[3]),n[4]=_(o,n[4]),n[5]=_(h,n[5]),n[6]=_(u,n[6]),n[7]=_(w,n[7]),n}let Q=class extends E{constructor(t,n,e){if(\"SHA-384\"!==t&&\"SHA-512\"!==t)throw new Error(c);super(t,n,e);const r=e||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=i(this.t,this.i,this.T),this.v=J,this.L=function(t){return t.slice()},this.B=G,this.F=function(n,e,r,i){return function(t,n,e,r,i){let s,h;const u=31+(n+129>>>10<<5),w=n+e;for(;t.length<=u;)t.push(0);for(t[n>>>5]|=128<<24-n%32,t[u]=4294967295&w,t[u-1]=w/o|0,s=0;s<t.length;s+=32)r=J(t.slice(s,s+32),r);return h=\"SHA-384\"===i?[r[0].N,r[0].I,r[1].N,r[1].I,r[2].N,r[2].I,r[3].N,r[3].I,r[4].N,r[4].I,r[5].N,r[5].I]:[r[0].N,r[0].I,r[1].N,r[1].I,r[2].N,r[2].I,r[3].N,r[3].I,r[4].N,r[4].I,r[5].N,r[5].I,r[6].N,r[6].I,r[7].N,r[7].I],h}(n,e,r,i,t)},this.U=G(t),this.m=1024,this.R=\"SHA-384\"===t?384:512,this.K=!1,r.hmacKey&&this.k(A(\"hmacKey\",r.hmacKey,this.T))}};const W=[new Y(0,1),new Y(0,32898),new Y(2147483648,32906),new Y(2147483648,2147516416),new Y(0,32907),new Y(0,2147483649),new Y(2147483648,2147516545),new Y(2147483648,32777),new Y(0,138),new Y(0,136),new Y(0,2147516425),new Y(0,2147483658),new Y(0,2147516555),new Y(2147483648,139),new Y(2147483648,32905),new Y(2147483648,32771),new Y(2147483648,32770),new Y(2147483648,128),new Y(0,32778),new Y(2147483648,2147483658),new Y(2147483648,2147516545),new Y(2147483648,32896),new Y(0,2147483649),new Y(2147483648,2147516424)],$=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function tt(t){let n;const e=[];for(n=0;n<5;n+=1)e[n]=[new Y(0,0),new Y(0,0),new Y(0,0),new Y(0,0),new Y(0,0)];return e}function nt(t){let n;const e=[];for(n=0;n<5;n+=1)e[n]=t[n].slice();return e}function et(t,n){let e,r,i,s;const o=[],h=[];if(null!==t)for(r=0;r<t.length;r+=2)n[(r>>>1)%5][(r>>>1)/5|0]=V(n[(r>>>1)%5][(r>>>1)/5|0],new Y(t[r+1],t[r]));for(e=0;e<24;e+=1){for(s=tt(),r=0;r<5;r+=1)o[r]=(u=n[r][0],w=n[r][1],c=n[r][2],f=n[r][3],a=n[r][4],new Y(u.N^w.N^c.N^f.N^a.N,u.I^w.I^c.I^f.I^a.I));for(r=0;r<5;r+=1)h[r]=V(o[(r+4)%5],N(o[(r+1)%5],1));for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)n[r][i]=V(n[r][i],h[r]);for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)s[i][(2*r+3*i)%5]=N(n[r][i],$[r][i]);for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)n[r][i]=V(s[r][i],new Y(~s[(r+1)%5][i].N&s[(r+2)%5][i].N,~s[(r+1)%5][i].I&s[(r+2)%5][i].I));n[0][0]=V(n[0][0],W[e])}var u,w,c,f,a;return n}function rt(t){let n,e,r=0;const i=[0,0],s=[4294967295&t,t/o&2097151];for(n=6;n>=0;n--)e=s[n>>2]>>>8*n&255,0===e&&0===r||(i[r+1>>2]|=e<<8*(r+1),r+=1);return r=0!==r?r:1,i[0]|=r,{value:r+1>4?i:[i[0]],binLen:8+8*r}}function it(t){return a(rt(t.binLen),t)}function st(t,n){let e,r=rt(n);r=a(r,t);const i=n>>>2,s=(i-r.value.length%i)%i;for(e=0;e<s;e++)r.value.push(0);return r.value}let ot=class extends E{constructor(t,n,e){let r=6,s=0;super(t,n,e);const o=e||{};if(1!==this.numRounds){if(o.kmacKey||o.hmacKey)throw new Error(f);if(\"CSHAKE128\"===this.o||\"CSHAKE256\"===this.o)throw new Error(\"Cannot set numRounds for CSHAKE variants\")}switch(this.T=1,this.C=i(this.t,this.i,this.T),this.v=et,this.L=nt,this.B=tt,this.U=tt(),this.K=!1,t){case\"SHA3-224\":this.m=s=1152,this.R=224,this.M=!0,this.g=this.Y;break;case\"SHA3-256\":this.m=s=1088,this.R=256,this.M=!0,this.g=this.Y;break;case\"SHA3-384\":this.m=s=832,this.R=384,this.M=!0,this.g=this.Y;break;case\"SHA3-512\":this.m=s=576,this.R=512,this.M=!0,this.g=this.Y;break;case\"SHAKE128\":r=31,this.m=s=1344,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case\"SHAKE256\":r=31,this.m=s=1088,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case\"KMAC128\":r=4,this.m=s=1344,this.X(e),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case\"KMAC256\":r=4,this.m=s=1088,this.X(e),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case\"CSHAKE128\":this.m=s=1344,r=this.O(e),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case\"CSHAKE256\":this.m=s=1088,r=this.O(e),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;default:throw new Error(c)}this.F=function(t,n,e,i,o){return function(t,n,e,r,i,s,o){let h,u,w=0;const c=[],f=i>>>5,a=n>>>5;for(h=0;h<a&&n>=i;h+=f)r=et(t.slice(h,h+f),r),n-=i;for(t=t.slice(h),n%=i;t.length<f;)t.push(0);for(h=n>>>3,t[h>>2]^=s<<h%4*8,t[f-1]^=2147483648,r=et(t,r);32*c.length<o&&(u=r[w%5][w/5|0],c.push(u.I),!(32*c.length>=o));)c.push(u.N),w+=1,0==64*w%i&&(et(null,r),w=0);return c}(t,n,0,i,s,r,o)},o.hmacKey&&this.k(A(\"hmacKey\",o.hmacKey,this.T))}O(t,n){const e=function(t){const n=t||{};return{funcName:A(\"funcName\",n.funcName,1,{value:[],binLen:0}),customization:A(\"Customization\",n.customization,1,{value:[],binLen:0})}}(t||{});n&&(e.funcName=n);const r=a(it(e.funcName),it(e.customization));if(0!==e.customization.binLen||0!==e.funcName.binLen){const t=st(r,this.m>>>3);for(let n=0;n<t.length;n+=this.m>>>5)this.U=this.v(t.slice(n,n+(this.m>>>5)),this.U),this.A+=this.m;return 4}return 31}X(t){const n=function(t){const n=t||{};return{kmacKey:A(\"kmacKey\",n.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:A(\"Customization\",n.customization,1,{value:[],binLen:0})}}(t||{});this.O(t,n.funcName);const e=st(it(n.kmacKey),this.m>>>3);for(let t=0;t<e.length;t+=this.m>>>5)this.U=this.v(e.slice(t,t+(this.m>>>5)),this.U),this.A+=this.m;this.H=!0}_(t){const n=a({value:this.h.slice(),binLen:this.u},function(t){let n,e,r=0;const i=[0,0],s=[4294967295&t,t/o&2097151];for(n=6;n>=0;n--)e=s[n>>2]>>>8*n&255,0===e&&0===r||(i[r>>2]|=e<<8*r,r+=1);return r=0!==r?r:1,i[r>>2]|=r<<8*r,{value:r+1>4?i:[i[0]],binLen:8+8*r}}(t.outputLen));return this.F(n.value,n.binLen,this.A,this.L(this.U),t.outputLen)}};class ht{constructor(t,n,e){if(\"SHA-1\"==t)this.P=new L(t,n,e);else if(\"SHA-224\"==t||\"SHA-256\"==t)this.P=new k(t,n,e);else if(\"SHA-384\"==t||\"SHA-512\"==t)this.P=new Q(t,n,e);else{if(\"SHA3-224\"!=t&&\"SHA3-256\"!=t&&\"SHA3-384\"!=t&&\"SHA3-512\"!=t&&\"SHAKE128\"!=t&&\"SHAKE256\"!=t&&\"CSHAKE128\"!=t&&\"CSHAKE256\"!=t&&\"KMAC128\"!=t&&\"KMAC256\"!=t)throw new Error(c);this.P=new ot(t,n,e)}}update(t){return this.P.update(t),this}getHash(t,n){return this.P.getHash(t,n)}setHMACKey(t,n,e){this.P.setHMACKey(t,n,e)}getHMAC(t,n){return this.P.getHMAC(t,n)}}export{ht as default};\n//# sourceMappingURL=sha.mjs.map\n","import { kRPCClient, RPCError } from './krpc_client'\n\nexport interface TokenPair {\n  session_token: string\n  refresh_token: string\n}\n\nexport interface VerifyHubUserInfo {\n  show_name: string\n  user_id: string\n  user_type: string\n  state?: string\n}\n\nexport interface LoginByPasswordResponse {\n  user_info: VerifyHubUserInfo\n  session_token: string\n  refresh_token: string\n}\n\nexport interface LegacyLoginByPasswordResponse {\n  user_name: string\n  user_id: string\n  user_type: string\n  session_token: string\n  refresh_token?: string\n}\n\nexport interface LoginByJwtParams {\n  jwt: string\n  login_params?: Record<string, unknown>\n}\n\nexport interface LoginByPasswordParams {\n  username: string\n  password: string\n  appid: string\n  source_url?: string\n}\n\nexport interface VerifyTokenParams {\n  session_token: string\n  appid?: string\n}\n\nexport interface RefreshTokenParams {\n  refresh_token: string\n}\n\nexport class VerifyHubClient {\n  private rpcClient: kRPCClient\n\n  constructor(rpcClient: kRPCClient) {\n    this.rpcClient = rpcClient\n  }\n\n  setSeq(seq: number) {\n    this.rpcClient.setSeq(seq)\n  }\n\n  async loginByJwt(params: LoginByJwtParams): Promise<TokenPair> {\n    this.rpcClient.resetSessionToken()\n    const payload: Record<string, unknown> = {\n      type: 'jwt',\n      jwt: params.jwt,\n    }\n    if (params.login_params) {\n      Object.assign(payload, params.login_params)\n    }\n    return this.rpcClient.call<TokenPair, Record<string, unknown>>('login_by_jwt', payload)\n  }\n\n  async loginByPassword(params: LoginByPasswordParams): Promise<LoginByPasswordResponse | LegacyLoginByPasswordResponse> {\n    this.rpcClient.resetSessionToken()\n    const payload: Record<string, unknown> = {\n      type: 'password',\n      username: params.username,\n      password: params.password,\n      appid: params.appid,\n    }\n    if (params.source_url) {\n      payload.source_url = params.source_url\n    }\n    return this.rpcClient.call<LoginByPasswordResponse | LegacyLoginByPasswordResponse, Record<string, unknown>>('login_by_password', payload)\n  }\n\n  async refreshToken(params: RefreshTokenParams): Promise<TokenPair> {\n    return this.rpcClient.call<TokenPair, RefreshTokenParams>('refresh_token', params)\n  }\n\n  async verifyToken(params: VerifyTokenParams): Promise<boolean> {\n    return this.rpcClient.call<boolean, VerifyTokenParams>('verify_token', params)\n  }\n\n  static normalizeLoginResponse(response: LoginByPasswordResponse | LegacyLoginByPasswordResponse): LegacyLoginByPasswordResponse {\n    if ('user_info' in response) {\n      return {\n        user_name: response.user_info.show_name,\n        user_id: response.user_info.user_id,\n        user_type: response.user_info.user_type,\n        session_token: response.session_token,\n        refresh_token: response.refresh_token,\n      }\n    }\n\n    if (!response.session_token) {\n      throw new RPCError('login_by_password response missing session_token')\n    }\n\n    return response\n  }\n}\n\nexport type { KRPCResponse } from './krpc_client'\n","import jsSHA from 'jssha';\nimport { buckyos } from './index'\nimport { VerifyHubClient } from './verify-hub-client'\n\nexport interface AccountInfo {\n    user_name: string;\n    user_id: string;\n    user_type: string;\n    session_token: string;\n}\n  \n// 定义自定义事件\nexport const LOGIN_EVENT = 'onLogin';\n\nexport function hashPassword(username:string,password:string,nonce:number|null=null):string {\n    const shaObj = new jsSHA(\"SHA-256\", \"TEXT\", { encoding: \"UTF8\" });\n    shaObj.update(password+username+\".buckyos\");\n    let org_password_hash_str = shaObj.getHash(\"B64\");\n    if (nonce == null) {\n        return org_password_hash_str;\n    }\n    const shaObj2 = new jsSHA(\"SHA-256\", \"TEXT\", { encoding: \"UTF8\" });\n    let salt = org_password_hash_str + nonce.toString();\n    shaObj2.update(salt);\n    let result = shaObj2.getHash(\"B64\");\n    return result;\n}\n\nexport function cleanLocalAccountInfo(appId:string) {\n    localStorage.removeItem(\"buckyos.account_info\");\n    //删除cookie\n    let cookie_options = {\n        path: \"/\",\n        expires: new Date(0),\n        secure: true,\n        sameSite: \"Lax\"\n    };\n    document.cookie = `${appId}_token=; ${Object.entries(cookie_options).map(([key, value]) => `${key}=${value}`).join('; ')}`;\n\n}\n\nexport function saveLocalAccountInfo(appId:string, account_info:AccountInfo) {\n    if(account_info.session_token == null) {\n        console.error(\"session_token is null,can't save account info\");\n        return;\n    }\n\n    localStorage.setItem(\"buckyos.account_info\", JSON.stringify(account_info));\n    //session token用cookie存储\n    let cookie_options = {\n        path: \"/\",\n        expires: new Date(Date.now() + 1000 * 60 * 60 * 24 * 30), // 30天\n        secure: true,\n        sameSite: \"Lax\"\n    };\n    document.cookie = `${appId}_token=${account_info.session_token}; ${Object.entries(cookie_options).map(([key, value]) => `${key}=${value}`).join('; ')}`;\n}\n\nexport function getLocalAccountInfo(appId:string):AccountInfo|null {\n    let account_info = localStorage.getItem(\"buckyos.account_info\");\n    if(account_info == null) {\n        return null;\n    }\n    return JSON.parse(account_info) as AccountInfo;\n}\n\nexport async function doLogin(username:string, password:string) {\n    let appId = buckyos.getAppId();\n    if(appId == null) {\n        console.error(\"BuckyOS WebSDK is not initialized,call initBuckyOS first\");\n        return null;\n    }\n\n    let login_nonce = Date.now();\n    let password_hash = hashPassword(username,password,login_nonce);\n    console.log(\"password_hash: \", password_hash);\n    localStorage.removeItem(\"account_info\");\n    \n    try {\n        let verify_hub_client = buckyos.getVerifyHubClient();\n        verify_hub_client.setSeq(login_nonce);\n        let account_response = await verify_hub_client.loginByPassword({\n            username: username,\n            password: password_hash,\n            appid: appId,\n            source_url: window.location.href,\n        });\n\n        const normalized = VerifyHubClient.normalizeLoginResponse(account_response);\n        const account_info: AccountInfo = {\n            user_name: normalized.user_name,\n            user_id: normalized.user_id,\n            user_type: normalized.user_type,\n            session_token: normalized.session_token,\n        };\n\n        saveLocalAccountInfo(appId, account_info);\n        return account_info;\n    } catch (error) {\n        console.error(\"login failed: \", error);\n        throw error;\n    }\n}\n","import { kRPCClient, RPCError } from './krpc_client'\n\nexport const TASK_MANAGER_SERVICE_NAME = 'task-manager'\n\nexport enum TaskStatus {\n  Pending = 'Pending',\n  Running = 'Running',\n  Paused = 'Paused',\n  Completed = 'Completed',\n  Failed = 'Failed',\n  Canceled = 'Canceled',\n  WaitingForApproval = 'WaitingForApproval',\n}\n\nexport enum TaskScope {\n  Private = 'Private',\n  User = 'User',\n  System = 'System',\n}\n\nexport interface TaskPermissions {\n  read: TaskScope\n  write: TaskScope\n}\n\nexport const DEFAULT_TASK_PERMISSIONS: TaskPermissions = {\n  read: TaskScope.User,\n  write: TaskScope.Private,\n}\n\nexport interface Task {\n  id: number\n  user_id: string\n  app_id: string\n  parent_id: number | null\n  root_id: number | null\n  name: string\n  task_type: string\n  status: TaskStatus\n  progress: number\n  message: string | null\n  data: unknown\n  permissions: TaskPermissions\n  created_at: number\n  updated_at: number\n}\n\nexport interface CreateTaskOptions {\n  permissions?: TaskPermissions\n  parent_id?: number\n  priority?: number\n}\n\nexport interface TaskFilter {\n  app_id?: string\n  task_type?: string\n  status?: TaskStatus\n  parent_id?: number\n  root_id?: number\n}\n\nexport interface TaskUpdatePayload {\n  id: number\n  status?: TaskStatus\n  progress?: number\n  message?: string\n  data?: unknown\n}\n\nexport interface CreateTaskParams {\n  name: string\n  taskType: string\n  data?: unknown\n  userId: string\n  appId: string\n  options?: CreateTaskOptions\n}\n\nexport interface ListTasksParams {\n  filter?: TaskFilter\n  sourceUserId?: string\n  sourceAppId?: string\n}\n\nexport interface ListTasksByTimeRangeParams {\n  appId?: string\n  taskType?: string\n  sourceUserId?: string\n  sourceAppId?: string\n  startTime: number\n  endTime: number\n}\n\nexport interface PauseResumeOptions {\n  sourceUserId?: string\n  sourceAppId?: string\n}\n\ninterface CreateTaskResult {\n  task_id: number\n  task: Task\n}\n\ninterface GetTaskResult {\n  task: Task\n}\n\ninterface ListTasksResult {\n  tasks: Task[]\n}\n\ninterface TaskManagerCreateTaskReq {\n  name: string\n  task_type: string\n  data?: unknown\n  permissions?: TaskPermissions\n  parent_id?: number\n  priority?: number\n  user_id: string\n  app_id: string\n  app_name?: string\n}\n\ninterface TaskManagerGetTaskReq {\n  id: number\n}\n\ninterface TaskManagerListTasksReq {\n  app_id?: string\n  task_type?: string\n  status?: TaskStatus\n  parent_id?: number\n  root_id?: number\n  source_user_id?: string\n  source_app_id?: string\n}\n\ninterface TaskManagerListTasksByTimeRangeReq {\n  app_id?: string\n  task_type?: string\n  source_user_id?: string\n  source_app_id?: string\n  start_time: number\n  end_time: number\n}\n\ninterface TaskManagerUpdateTaskReq {\n  id: number\n  status?: TaskStatus\n  progress?: number\n  message?: string\n  data?: unknown\n}\n\ninterface TaskManagerCancelTaskReq {\n  id: number\n  recursive: boolean\n}\n\ninterface TaskManagerGetSubtasksReq {\n  parent_id: number\n}\n\ninterface TaskManagerUpdateTaskStatusReq {\n  id: number\n  status: TaskStatus\n}\n\ninterface TaskManagerUpdateTaskProgressReq {\n  id: number\n  completed_items: number\n  total_items: number\n}\n\ninterface TaskManagerUpdateTaskErrorReq {\n  id: number\n  error_message: string\n}\n\ninterface TaskManagerUpdateTaskDataReq {\n  id: number\n  data: unknown\n}\n\ninterface TaskManagerDeleteTaskReq {\n  id: number\n}\n\nexport function parseTaskStatus(status: string): TaskStatus {\n  switch (status) {\n    case TaskStatus.Pending:\n      return TaskStatus.Pending\n    case TaskStatus.Running:\n      return TaskStatus.Running\n    case TaskStatus.Paused:\n      return TaskStatus.Paused\n    case TaskStatus.Completed:\n      return TaskStatus.Completed\n    case TaskStatus.Failed:\n      return TaskStatus.Failed\n    case TaskStatus.Canceled:\n      return TaskStatus.Canceled\n    case TaskStatus.WaitingForApproval:\n      return TaskStatus.WaitingForApproval\n    default:\n      throw new RPCError(`Invalid task status: ${status}`)\n  }\n}\n\nexport function isTerminalTaskStatus(status: TaskStatus): boolean {\n  return status === TaskStatus.Completed || status === TaskStatus.Failed || status === TaskStatus.Canceled\n}\n\nfunction sleep(ms: number): Promise<void> {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n\nfunction asRecord(value: unknown): Record<string, unknown> {\n  if (!value || typeof value !== 'object' || Array.isArray(value)) {\n    throw new RPCError('Invalid RPC response format')\n  }\n  return value as Record<string, unknown>\n}\n\nfunction parseTask(value: unknown): Task {\n  const record = asRecord(value)\n  const id = record.id\n  const status = record.status\n\n  if (typeof id !== 'number') {\n    throw new RPCError('Invalid task payload: missing id')\n  }\n\n  if (typeof status !== 'string') {\n    throw new RPCError('Invalid task payload: missing status')\n  }\n\n  return {\n    ...(record as Omit<Task, 'status'>),\n    status: parseTaskStatus(status),\n  } as Task\n}\n\nfunction parseTasks(value: unknown): Task[] {\n  if (!Array.isArray(value)) {\n    throw new RPCError('Invalid tasks payload: expected array')\n  }\n  return value.map((task) => parseTask(task))\n}\n\nexport class TaskManagerClient {\n  private rpcClient: kRPCClient\n\n  constructor(rpcClient: kRPCClient) {\n    this.rpcClient = rpcClient\n  }\n\n  setSeq(seq: number) {\n    this.rpcClient.setSeq(seq)\n  }\n\n  async createTask(params: CreateTaskParams): Promise<Task> {\n    const options = params.options ?? {}\n    const req: TaskManagerCreateTaskReq = {\n      name: params.name,\n      task_type: params.taskType,\n      data: params.data,\n      permissions: options.permissions,\n      parent_id: options.parent_id,\n      priority: options.priority,\n      user_id: params.userId,\n      app_id: params.appId,\n      app_name: params.appId || undefined,\n    }\n\n    const result = await this.rpcClient.call<unknown, TaskManagerCreateTaskReq>('create_task', req)\n    const parsed = asRecord(result)\n\n    if ('task' in parsed) {\n      return parseTask(parsed.task)\n    }\n\n    const taskId = parsed.task_id\n    if (typeof taskId === 'number') {\n      return this.getTask(taskId)\n    }\n\n    throw new RPCError('Expected CreateTaskResult response')\n  }\n\n  async getTask(id: number): Promise<Task> {\n    const req: TaskManagerGetTaskReq = { id }\n    const result = await this.rpcClient.call<unknown, TaskManagerGetTaskReq>('get_task', req)\n\n    const parsed = asRecord(result)\n    if ('task' in parsed) {\n      return parseTask(parsed.task)\n    }\n\n    return parseTask(result)\n  }\n\n  async waitForTaskEnd(id: number): Promise<TaskStatus> {\n    return this.waitForTaskEndWithInterval(id, 500)\n  }\n\n  async waitForTaskEndWithInterval(id: number, pollIntervalMs: number): Promise<TaskStatus> {\n    if (!Number.isFinite(pollIntervalMs) || pollIntervalMs <= 0) {\n      throw new RPCError('pollIntervalMs must be greater than 0')\n    }\n\n    while (true) {\n      const task = await this.getTask(id)\n      if (isTerminalTaskStatus(task.status)) {\n        return task.status\n      }\n\n      await sleep(pollIntervalMs)\n    }\n  }\n\n  async listTasks(params: ListTasksParams = {}): Promise<Task[]> {\n    const filter = params.filter ?? {}\n    const req: TaskManagerListTasksReq = {\n      app_id: filter.app_id,\n      task_type: filter.task_type,\n      status: filter.status,\n      parent_id: filter.parent_id,\n      root_id: filter.root_id,\n      source_user_id: params.sourceUserId,\n      source_app_id: params.sourceAppId,\n    }\n\n    const result = await this.rpcClient.call<unknown, TaskManagerListTasksReq>('list_tasks', req)\n    const parsed = asRecord(result)\n\n    if ('tasks' in parsed) {\n      return parseTasks(parsed.tasks)\n    }\n\n    throw new RPCError('Expected tasks in response')\n  }\n\n  async listTasksByTimeRange(params: ListTasksByTimeRangeParams): Promise<Task[]> {\n    const req: TaskManagerListTasksByTimeRangeReq = {\n      app_id: params.appId,\n      task_type: params.taskType,\n      source_user_id: params.sourceUserId,\n      source_app_id: params.sourceAppId,\n      start_time: params.startTime,\n      end_time: params.endTime,\n    }\n\n    const result = await this.rpcClient.call<unknown, TaskManagerListTasksByTimeRangeReq>('list_tasks_by_time_range', req)\n    const parsed = asRecord(result)\n\n    if ('tasks' in parsed) {\n      return parseTasks(parsed.tasks)\n    }\n\n    throw new RPCError('Expected tasks in response')\n  }\n\n  async updateTask(payload: TaskUpdatePayload): Promise<void> {\n    const req: TaskManagerUpdateTaskReq = {\n      id: payload.id,\n      status: payload.status,\n      progress: payload.progress,\n      message: payload.message,\n      data: payload.data,\n    }\n\n    await this.rpcClient.call<unknown, TaskManagerUpdateTaskReq>('update_task', req)\n  }\n\n  async cancelTask(id: number, recursive: boolean = false): Promise<void> {\n    const req: TaskManagerCancelTaskReq = { id, recursive }\n    await this.rpcClient.call<unknown, TaskManagerCancelTaskReq>('cancel_task', req)\n  }\n\n  async getSubtasks(parentId: number): Promise<Task[]> {\n    const req: TaskManagerGetSubtasksReq = { parent_id: parentId }\n    const result = await this.rpcClient.call<unknown, TaskManagerGetSubtasksReq>('get_subtasks', req)\n    const parsed = asRecord(result)\n\n    if ('tasks' in parsed) {\n      return parseTasks(parsed.tasks)\n    }\n\n    throw new RPCError('Expected tasks in response')\n  }\n\n  async updateTaskStatus(id: number, status: TaskStatus): Promise<void> {\n    const req: TaskManagerUpdateTaskStatusReq = { id, status }\n    await this.rpcClient.call<unknown, TaskManagerUpdateTaskStatusReq>('update_task_status', req)\n  }\n\n  async updateTaskProgress(id: number, completedItems: number, totalItems: number): Promise<void> {\n    const req: TaskManagerUpdateTaskProgressReq = {\n      id,\n      completed_items: completedItems,\n      total_items: totalItems,\n    }\n    await this.rpcClient.call<unknown, TaskManagerUpdateTaskProgressReq>('update_task_progress', req)\n  }\n\n  async updateTaskError(id: number, errorMessage: string): Promise<void> {\n    const req: TaskManagerUpdateTaskErrorReq = { id, error_message: errorMessage }\n    await this.rpcClient.call<unknown, TaskManagerUpdateTaskErrorReq>('update_task_error', req)\n  }\n\n  async updateTaskData(id: number, data: unknown): Promise<void> {\n    const req: TaskManagerUpdateTaskDataReq = { id, data }\n    await this.rpcClient.call<unknown, TaskManagerUpdateTaskDataReq>('update_task_data', req)\n  }\n\n  async deleteTask(id: number): Promise<void> {\n    const req: TaskManagerDeleteTaskReq = { id }\n    await this.rpcClient.call<unknown, TaskManagerDeleteTaskReq>('delete_task', req)\n  }\n\n  async pauseTask(id: number): Promise<void> {\n    await this.updateTaskStatus(id, TaskStatus.Paused)\n  }\n\n  async resumeTask(id: number): Promise<void> {\n    await this.updateTaskStatus(id, TaskStatus.Running)\n  }\n\n  async completeTask(id: number): Promise<void> {\n    await this.updateTaskStatus(id, TaskStatus.Completed)\n  }\n\n  async markTaskAsWaitingForApproval(id: number): Promise<void> {\n    await this.updateTaskStatus(id, TaskStatus.WaitingForApproval)\n  }\n\n  async markTaskAsFailed(id: number, errorMessage: string): Promise<void> {\n    await this.updateTaskError(id, errorMessage)\n    await this.updateTaskStatus(id, TaskStatus.Failed)\n  }\n\n  async pauseAllRunningTasks(options: PauseResumeOptions = {}): Promise<void> {\n    const runningTasks = await this.listTasks({\n      filter: { status: TaskStatus.Running },\n      sourceUserId: options.sourceUserId,\n      sourceAppId: options.sourceAppId,\n    })\n\n    for (const task of runningTasks) {\n      await this.pauseTask(task.id)\n    }\n  }\n\n  async resumeLastPausedTask(options: PauseResumeOptions = {}): Promise<void> {\n    const pausedTasks = await this.listTasks({\n      filter: { status: TaskStatus.Paused },\n      sourceUserId: options.sourceUserId,\n      sourceAppId: options.sourceAppId,\n    })\n\n    const lastPausedTask = pausedTasks[pausedTasks.length - 1]\n    if (!lastPausedTask) {\n      throw new RPCError('No paused tasks found')\n    }\n\n    await this.resumeTask(lastPausedTask.id)\n  }\n}\n\nexport type { CreateTaskResult, GetTaskResult, ListTasksResult }\n","import { kRPCClient } from './krpc_client'\n\nexport const OPENDAN_SERVICE_NAME = 'opendan'\n\nexport interface OpenDanAgentInfo {\n  agent_id: string\n  agent_name?: string\n  agent_type?: string\n  status?: string\n  parent_agent_id?: string\n  current_run_id?: string\n  workspace_id?: string\n  workspace_path?: string\n  last_active_at?: string\n  updated_at?: number\n  extra?: unknown\n}\n\nexport interface OpenDanWorkspaceInfo {\n  workspace_id: string\n  agent_id: string\n  workspace_path?: string\n  todo_db_path?: string\n  worklog_db_path?: string\n  summary?: unknown\n  extra?: unknown\n}\n\nexport interface OpenDanWorklogItem {\n  log_id: string\n  log_type: string\n  status: string\n  timestamp: number\n  agent_id?: string\n  related_agent_id?: string\n  step_id?: string\n  summary?: string\n  payload?: unknown\n}\n\nexport interface OpenDanTodoItem {\n  todo_id: string\n  title: string\n  status: string\n  agent_id?: string\n  description?: string\n  created_at?: number\n  completed_at?: number\n  created_in_step_id?: string\n  completed_in_step_id?: string\n  extra?: unknown\n}\n\nexport interface OpenDanSubAgentInfo {\n  agent_id: string\n  agent_name?: string\n  status?: string\n  current_run_id?: string\n  last_active_at?: string\n  workspace_id?: string\n  workspace_path?: string\n  extra?: unknown\n}\n\nexport interface OpenDanAgentListResult {\n  items: OpenDanAgentInfo[]\n  next_cursor?: string\n  total?: number\n}\n\nexport interface OpenDanWorkspaceWorklogsResult {\n  items: OpenDanWorklogItem[]\n  next_cursor?: string\n  total?: number\n}\n\nexport interface OpenDanWorkspaceTodosResult {\n  items: OpenDanTodoItem[]\n  next_cursor?: string\n  total?: number\n}\n\nexport interface OpenDanWorkspaceSubAgentsResult {\n  items: OpenDanSubAgentInfo[]\n  next_cursor?: string\n  total?: number\n}\n\nexport interface OpenDanSessionLink {\n  relation: string\n  session_id: string\n  agent_did?: string\n  note?: string\n}\n\nexport interface OpenDanAgentSessionRecord {\n  session_id: string\n  owner_agent: string\n  title: string\n  summary: string\n  status: string\n  created_at_ms: number\n  updated_at_ms: number\n  last_activity_ms: number\n  links: OpenDanSessionLink[]\n  tags: string[]\n  meta: unknown\n}\n\nexport interface OpenDanAgentSessionListResult {\n  items: string[]\n  next_cursor?: string\n  total?: number\n}\n\nexport interface ListAgentsParams {\n  status?: string\n  includeSubAgents?: boolean\n  limit?: number\n  cursor?: string\n}\n\nexport interface ListWorkspaceWorklogsParams {\n  agentId: string\n  ownerSessionId: string\n  logType?: string\n  status?: string\n  stepId?: string\n  keyword?: string\n  limit?: number\n  cursor?: string\n}\n\nexport interface ListWorkshopWorklogsParams {\n  agentId: string\n  ownerSessionId: string\n  logType?: string\n  status?: string\n  stepId?: string\n  keyword?: string\n  limit?: number\n  cursor?: string\n}\n\nexport interface ListWorkspaceTodosParams {\n  agentId: string\n  ownerSessionId: string\n  status?: string\n  includeClosed?: boolean\n  limit?: number\n  cursor?: string\n}\n\nexport interface ListWorkshopTodosParams {\n  agentId: string\n  ownerSessionId: string\n  status?: string\n  includeClosed?: boolean\n  limit?: number\n  cursor?: string\n}\n\nexport interface ListWorkspaceSubAgentsParams {\n  agentId: string\n  includeDisabled?: boolean\n  limit?: number\n  cursor?: string\n}\n\nexport interface ListWorkshopSubAgentsParams {\n  agentId: string\n  includeDisabled?: boolean\n  limit?: number\n  cursor?: string\n}\n\nexport interface ListAgentSessionsParams {\n  agentId: string\n  limit?: number\n  cursor?: string\n}\n\ninterface OpenDanListAgentsReq {\n  status?: string\n  include_sub_agents?: boolean\n  limit?: number\n  cursor?: string\n}\n\ninterface OpenDanGetAgentReq {\n  agent_id: string\n}\n\ninterface OpenDanGetWorkshopReq {\n  agent_id: string\n}\n\ninterface OpenDanListWorkshopWorklogsReq {\n  agent_id: string\n  owner_session_id: string\n  log_type?: string\n  status?: string\n  step_id?: string\n  keyword?: string\n  limit?: number\n  cursor?: string\n}\n\ninterface OpenDanListWorkshopTodosReq {\n  agent_id: string\n  owner_session_id: string\n  status?: string\n  include_closed?: boolean\n  limit?: number\n  cursor?: string\n}\n\ninterface OpenDanListWorkshopSubAgentsReq {\n  agent_id: string\n  include_disabled?: boolean\n  limit?: number\n  cursor?: string\n}\n\ninterface OpenDanListAgentSessionsReq {\n  agent_id: string\n  limit?: number\n  cursor?: string\n}\n\ninterface OpenDanGetAgentSessionReq {\n  agent_id: string\n  session_id: string\n}\n\ninterface OpenDanGetSessionRecordReq {\n  session_id: string\n}\n\nexport class OpenDanClient {\n  private rpcClient: kRPCClient\n\n  constructor(rpcClient: kRPCClient) {\n    this.rpcClient = rpcClient\n  }\n\n  setSeq(seq: number) {\n    this.rpcClient.setSeq(seq)\n  }\n\n  async listAgents(params: ListAgentsParams = {}): Promise<OpenDanAgentListResult> {\n    const req: OpenDanListAgentsReq = {\n      status: params.status,\n      include_sub_agents: params.includeSubAgents,\n      limit: params.limit,\n      cursor: params.cursor,\n    }\n    return this.rpcClient.call<OpenDanAgentListResult, OpenDanListAgentsReq>('list_agents', req)\n  }\n\n  async getAgent(agentId: string): Promise<OpenDanAgentInfo> {\n    const req: OpenDanGetAgentReq = { agent_id: agentId }\n    return this.rpcClient.call<OpenDanAgentInfo, OpenDanGetAgentReq>('get_agent', req)\n  }\n\n  async getWorkshop(agentId: string): Promise<OpenDanWorkspaceInfo> {\n    const req: OpenDanGetWorkshopReq = { agent_id: agentId }\n    return this.rpcClient.call<OpenDanWorkspaceInfo, OpenDanGetWorkshopReq>('get_workshop', req)\n  }\n\n  async getWorkspace(agentId: string): Promise<OpenDanWorkspaceInfo> {\n    return this.getWorkshop(agentId)\n  }\n\n  async listWorkshopWorklogs(params: ListWorkshopWorklogsParams): Promise<OpenDanWorkspaceWorklogsResult> {\n    const req: OpenDanListWorkshopWorklogsReq = {\n      agent_id: params.agentId,\n      owner_session_id: params.ownerSessionId,\n      log_type: params.logType,\n      status: params.status,\n      step_id: params.stepId,\n      keyword: params.keyword,\n      limit: params.limit,\n      cursor: params.cursor,\n    }\n    return this.rpcClient.call<OpenDanWorkspaceWorklogsResult, OpenDanListWorkshopWorklogsReq>('list_workshop_worklogs', req)\n  }\n\n  async listWorkspaceWorklogs(params: ListWorkspaceWorklogsParams): Promise<OpenDanWorkspaceWorklogsResult> {\n    return this.listWorkshopWorklogs(params)\n  }\n\n  async listWorkshopTodos(params: ListWorkshopTodosParams): Promise<OpenDanWorkspaceTodosResult> {\n    const req: OpenDanListWorkshopTodosReq = {\n      agent_id: params.agentId,\n      owner_session_id: params.ownerSessionId,\n      status: params.status,\n      include_closed: params.includeClosed,\n      limit: params.limit,\n      cursor: params.cursor,\n    }\n    return this.rpcClient.call<OpenDanWorkspaceTodosResult, OpenDanListWorkshopTodosReq>('list_workshop_todos', req)\n  }\n\n  async listWorkspaceTodos(params: ListWorkspaceTodosParams): Promise<OpenDanWorkspaceTodosResult> {\n    return this.listWorkshopTodos(params)\n  }\n\n  async listWorkshopSubAgents(params: ListWorkshopSubAgentsParams): Promise<OpenDanWorkspaceSubAgentsResult> {\n    const req: OpenDanListWorkshopSubAgentsReq = {\n      agent_id: params.agentId,\n      include_disabled: params.includeDisabled,\n      limit: params.limit,\n      cursor: params.cursor,\n    }\n    return this.rpcClient.call<OpenDanWorkspaceSubAgentsResult, OpenDanListWorkshopSubAgentsReq>('list_workshop_sub_agents', req)\n  }\n\n  async listWorkspaceSubAgents(params: ListWorkspaceSubAgentsParams): Promise<OpenDanWorkspaceSubAgentsResult> {\n    return this.listWorkshopSubAgents(params)\n  }\n\n  async listAgentSessions(params: ListAgentSessionsParams): Promise<OpenDanAgentSessionListResult> {\n    const req: OpenDanListAgentSessionsReq = {\n      agent_id: params.agentId,\n      limit: params.limit,\n      cursor: params.cursor,\n    }\n    return this.rpcClient.call<OpenDanAgentSessionListResult, OpenDanListAgentSessionsReq>('list_agent_sessions', req)\n  }\n\n  async getAgentSession(agentId: string, sessionId: string): Promise<OpenDanAgentSessionRecord> {\n    const req: OpenDanGetAgentSessionReq = {\n      agent_id: agentId,\n      session_id: sessionId,\n    }\n    return this.rpcClient.call<OpenDanAgentSessionRecord, OpenDanGetAgentSessionReq>('get_agent_session', req)\n  }\n\n  async getSessionRecord(sessionId: string): Promise<OpenDanAgentSessionRecord> {\n    const req: OpenDanGetSessionRecordReq = {\n      session_id: sessionId,\n    }\n    return this.rpcClient.call<OpenDanAgentSessionRecord, OpenDanGetSessionRecordReq>('get_session_record', req)\n  }\n}\n","import { kRPCClient } from './krpc_client'\nimport { VerifyHubClient } from './verify-hub-client'\nimport { TaskManagerClient } from './task_mgr_client'\nimport { OpenDanClient } from './opendan_client'\n\nexport enum RuntimeType {\n  Browser = 'Browser',\n  NodeJS = 'NodeJS',\n  AppRuntime = 'AppRuntime',\n  Unknown = 'Unknown',\n}\n\nexport interface BuckyOSConfig {\n  zoneHost: string\n  appId: string\n  defaultProtocol: string\n  runtimeType: RuntimeType\n}\n\nexport const DEFAULT_CONFIG: BuckyOSConfig = {\n  zoneHost: '',\n  appId: '',\n  defaultProtocol: 'http://',\n  runtimeType: RuntimeType.Unknown,\n}\n\nexport class BuckyOSRuntime {\n  private config: BuckyOSConfig\n  private sessionToken: string | null\n  private refreshToken: string | null\n\n  constructor(config: BuckyOSConfig) {\n    this.config = config\n    this.sessionToken = null\n    this.refreshToken = null\n  }\n\n  setConfig(config: BuckyOSConfig) {\n    this.config = config\n  }\n\n  getConfig(): BuckyOSConfig {\n    return this.config\n  }\n\n  getAppId(): string {\n    return this.config.appId\n  }\n\n  getZoneHostName(): string {\n    return this.config.zoneHost\n  }\n\n  getZoneServiceURL(serviceName: string): string {\n    return `/kapi/${serviceName}/`\n  }\n\n  setSessionToken(token: string | null) {\n    this.sessionToken = token\n  }\n\n  setRefreshToken(token: string | null) {\n    this.refreshToken = token\n  }\n\n  getSessionToken(): string | null {\n    return this.sessionToken\n  }\n\n  getRefreshToken(): string | null {\n    return this.refreshToken\n  }\n\n  getServiceRpcClient(serviceName: string): kRPCClient {\n    return new kRPCClient(this.getZoneServiceURL(serviceName), this.sessionToken)\n  }\n\n  getVerifyHubClient(): VerifyHubClient {\n    const rpcClient = this.getServiceRpcClient('verify-hub')\n    return new VerifyHubClient(rpcClient)\n  }\n\n  getTaskManagerClient(): TaskManagerClient {\n    const rpcClient = this.getServiceRpcClient('task-manager')\n    return new TaskManagerClient(rpcClient)\n  }\n\n  getOpenDanClient(): OpenDanClient {\n    const rpcClient = this.getServiceRpcClient('opendan')\n    return new OpenDanClient(rpcClient)\n  }\n}\n","import { kRPCClient } from './krpc_client'\nimport { AuthClient } from './auth_client'\nimport { hashPassword, AccountInfo, doLogin, cleanLocalAccountInfo, getLocalAccountInfo, saveLocalAccountInfo } from './account'\nimport { BuckyOSRuntime, BuckyOSConfig, DEFAULT_CONFIG, RuntimeType } from './runtime'\nimport { VerifyHubClient } from './verify-hub-client'\nimport { TaskManagerClient } from './task_mgr_client'\nimport { OpenDanClient } from './opendan_client'\n\nexport const WEB3_BRIDGE_HOST = \"web3.buckyos.ai\";\n\nexport const BS_SERVICE_VERIFY_HUB = \"verify-hub\";\nexport const BS_SERVICE_TASK_MANAGER = \"task-manager\";\nexport const BS_SERVICE_OPENDAN = \"opendan\";\n\nvar _currentRuntime: BuckyOSRuntime | null = null;\nvar _currentAccountInfo: AccountInfo | null = null;\n\nasync function tryGetZoneHostName(appid:string,host:string,default_protocol:string) :Promise<string> {\n\n    //用当前域名，或上级域名尝试访问 /1.0/identifiers/self\n    let zone_doc_url = default_protocol + host + \"/1.0/identifiers/self\";\n    let response = await fetch(zone_doc_url);\n    if(response.status == 200) {\n        return host;\n    } else {\n        let up_host = host.split(\".\").slice(1).join(\".\");\n        zone_doc_url = default_protocol + up_host + \"/1.0/identifiers/self\";\n        response = await fetch(zone_doc_url);\n        if(response.status == 200) {\n            return up_host;\n        }\n    }\n    \n    return host;\n}\n\n\n\nasync function initBuckyOS(appid: string, config: BuckyOSConfig | null = null): Promise<void> {\n    if (_currentRuntime) {\n        console.warn('BuckyOS WebSDK is already initialized!')\n    }\n\n    let finalConfig = config\n    if (!finalConfig) {\n        finalConfig = {\n            ...DEFAULT_CONFIG,\n            appId: appid,\n            runtimeType: getRuntimeType(),\n            defaultProtocol: window.location.protocol + '//',\n        }\n\n        let zone_host_name = localStorage.getItem('zone_host_name')\n        if (zone_host_name) {\n            finalConfig.zoneHost = zone_host_name\n        } else {\n            zone_host_name = await tryGetZoneHostName(appid, window.location.host, finalConfig.defaultProtocol)\n            localStorage.setItem('zone_host_name', zone_host_name)\n            finalConfig.zoneHost = zone_host_name\n        }\n    }\n\n    _currentRuntime = new BuckyOSRuntime(finalConfig)\n}\n\n\n\nfunction getRuntimeType(): RuntimeType {\n    // 检查是否在浏览器环境中\n    if (typeof window !== 'undefined') {\n        if ((window as any).BuckyApi) {\n            return RuntimeType.AppRuntime;\n        }\n        return RuntimeType.Browser;\n    }\n\n    const runtimeProcess = (globalThis as { process?: { versions?: { node?: string; electron?: string } } }).process;\n    // 检查是否在 Node.js 环境中\n    if (runtimeProcess?.versions?.node) {\n        return RuntimeType.NodeJS;\n    }\n\n    return RuntimeType.Unknown;\n}\n\n\nfunction attachEvent(event_name:string, callback:Function) {\n    //TODO: implement\n}\n\nfunction removeEvent(cookie_id:string) {\n    //TODO: implement\n}\n\n//return null if not login\nfunction getAccountInfo(): AccountInfo | null {\n    //TODO: implement\n    if(_currentAccountInfo) {\n        return _currentAccountInfo;\n    }\n\n    return null;\n}\n\n\nasync function login(auto_login: boolean = true): Promise<AccountInfo | null> {\n    if (_currentRuntime == null) {\n        console.error('BuckyOS WebSDK is not initialized,call initBuckyOS first')\n        return null\n    }\n    let appId = getAppId();\n    if(appId == null) {\n        console.error('BuckyOS WebSDK is not initialized,call initBuckyOS first')\n        return null;\n    }\n\n    if(auto_login) {\n        let account_info = getLocalAccountInfo(appId);\n        if(account_info) {\n            _currentAccountInfo = account_info;\n            return _currentAccountInfo;\n        } \n    }   \n\n    cleanLocalAccountInfo(appId)\n    //use auth_client to login\n    let zone_host_name = getZoneHostName()\n    if(zone_host_name == null) {\n        console.error('BuckyOS WebSDK is not initialized,call initBuckyOS first')\n        return null\n    }\n    try {\n        let auth_client = new AuthClient(zone_host_name,appId);\n        let account_info = await auth_client.login();\n        if (account_info) {\n            saveLocalAccountInfo(appId,account_info);\n            _currentAccountInfo = account_info;  \n            _currentRuntime.setSessionToken(account_info.session_token)\n        }\n        return account_info;\n    } catch (error) {\n        console.error(\"login failed: \", error);\n        throw error;\n    }\n}\n    \n\nfunction logout(clean_account_info:boolean=true) {\n    if(_currentRuntime == null) {\n        console.error(\"BuckyOS WebSDK is not initialized,call initBuckyOS first\");\n        return;\n    }\n    let appId = getAppId();\n    if(appId == null) {\n        console.error(\"BuckyOS WebSDK is not initialized,call initBuckyOS first\");\n        return;\n    }\n\n    if(_currentAccountInfo == null) {\n        console.error(\"BuckyOS WebSDK is not login,call login first\");\n        return;\n    }\n\n    if(clean_account_info) {\n        cleanLocalAccountInfo(appId);\n    }\n    _currentRuntime.setSessionToken(null);\n}\n\nfunction getAppSetting(setting_name:string|null=null) {\n    //TODO: implement\n}\n\nfunction setAppSetting(setting_name:string|null=null, setting_value:string) {\n    //TODO: implement\n}\n\nfunction getZoneHostName() :string|null {\n    if(_currentRuntime == null) {\n        console.error(\"BuckyOS WebSDK is not initialized,call initBuckyOS first\");\n        return null;\n    }\n    return _currentRuntime.getZoneHostName();\n}\n\nfunction getZoneServiceURL(service_name:string) :string {\n    if(_currentRuntime == null) {\n        throw new Error(\"BuckyOS WebSDK is not initialized,call initBuckyOS first\");\n    }\n    return _currentRuntime.getZoneServiceURL(service_name);\n}\n\nfunction getServiceRpcClient(service_name:string) :kRPCClient {\n    if(_currentRuntime == null) {\n        console.error(\"BuckyOS WebSDK is not initialized,call initBuckyOS first\");\n        throw new Error(\"BuckyOS WebSDK is not initialized,call initBuckyOS first\");\n    }\n    if(_currentAccountInfo) {\n        _currentRuntime.setSessionToken(_currentAccountInfo.session_token);\n    }\n    return _currentRuntime.getServiceRpcClient(service_name);\n}\n\nfunction getAppId() {\n    if(_currentRuntime) {\n        return _currentRuntime.getAppId();\n    }\n\n    console.error(\"BuckyOS WebSDK is not initialized,call initBuckyOS first\");\n    return null;\n}\n\nfunction getBuckyOSConfig() {\n    return _currentRuntime?.getConfig() ?? null;\n}\n\nfunction getVerifyHubClient() : VerifyHubClient {\n    if(_currentRuntime == null) {\n        console.error(\"BuckyOS WebSDK is not initialized,call initBuckyOS first\");\n        throw new Error(\"BuckyOS WebSDK is not initialized,call initBuckyOS first\");\n    }\n    return _currentRuntime.getVerifyHubClient();\n}\n\nfunction getTaskManagerClient() : TaskManagerClient {\n    if(_currentRuntime == null) {\n        console.error(\"BuckyOS WebSDK is not initialized,call initBuckyOS first\");\n        throw new Error(\"BuckyOS WebSDK is not initialized,call initBuckyOS first\");\n    }\n    return _currentRuntime.getTaskManagerClient();\n}\n\nfunction getOpenDanClient() : OpenDanClient {\n    if(_currentRuntime == null) {\n        console.error(\"BuckyOS WebSDK is not initialized,call initBuckyOS first\");\n        throw new Error(\"BuckyOS WebSDK is not initialized,call initBuckyOS first\");\n    }\n    return _currentRuntime.getOpenDanClient();\n}\n\nasync function getCurrentWalletUser () : Promise<any> {\n    const result : any = await (window as any).BuckyApi.getCurrentUser();\n    if (result.code == 0) {\n        return result.data;\n    } else {\n        console.error(\"BuckyApi.getCurrentUser failed: \", result.message);\n        return null;\n    }\n}\n\nasync function walletSignWithActiveDid(payloads:Record<string, unknown>[]) : Promise<string[] | null> {\n    const result : any= await (window as any).BuckyApi. signJsonWithActiveDid (payloads);\n    if (result.code == 0) {\n        return result.data.signatures;\n    } else {\n        console.error(\"BuckyApi.signWithActiveDid failed: \", result.message);\n        return null;\n    }\n}\n\nexport const buckyos = {\n    kRPCClient,\n    AuthClient,\n    initBuckyOS,\n    getBuckyOSConfig,\n    getRuntimeType,\n    getAppId,\n    attachEvent,\n    removeEvent,\n    getAccountInfo,\n    doLogin,\n    login,\n    logout,\n    hashPassword,\n    getAppSetting,\n    setAppSetting,\n    getCurrentWalletUser,\n    walletSignWithActiveDid,\n    //add_web3_bridge,        \n    getZoneHostName,\n    getZoneServiceURL,\n    getServiceRpcClient,\n    getVerifyHubClient,\n    getTaskManagerClient,\n    getOpenDanClient,\n}\n\nexport type { BuckyOSConfig }\nexport { RuntimeType }\nexport { VerifyHubClient }\nexport { TaskManagerClient }\nexport { OpenDanClient }\n"],"names":["RPCError","Error","constructor","message","super","this","name","hasWindowFetch","window","fetch","hasGlobalFetch","globalThis","defaultFetcher","bind","async","kRPCClient","url","token","seq","fetcher","serverUrl","protocolType","Date","now","sessionToken","initToken","call","method","params","_call","setSeq","resetSessionToken","setSessionToken","getSessionToken","buildRequest","sys","parseSys","currentSeq","Array","isArray","length","responseSeq","requestBody","response","headers","body","JSON","stringify","ok","status","rpcResponse","json","updatedToken","error","result","String","AuthClient","zone_base_url","appId","zone_hostname","clientId","authWindow","login","redirect_uri","_openAuthWindow","parse","request","action","Promise","resolve","reject","left","screen","width","top","height","sso_url","location","protocol","redirectTarget","href","authUrl","encodeURIComponent","alert","open","addEventListener","event","console","log","origin","URL","data","close","t","n","e","r","i","s","o","h","u","w","push","value","binLen","c","parseInt","substr","isNaN","f","a","l","A","E","charCodeAt","H","indexOf","search","replace","charAt","ArrayBuffer","Uint8Array","outputUpper","toUpperCase","b64Pad","fromCharCode","pop","concat","outputLen","shakeLen","format","encoding","numRounds","S","p","update","m","C","U","v","slice","getHash","R","K","T","g","F","L","B","setHMACKey","M","k","getHMAC","Y","b","d","y","hmacKey","N","I","X","z","x","_","O","P","V","Z","j","q","D","G","J","Q","W","$","tt","nt","et","rt","it","st","ot","kmacKey","funcName","customization","ht","VerifyHubClient","rpcClient","loginByJwt","payload","type","jwt","login_params","Object","assign","loginByPassword","username","password","appid","source_url","refreshToken","verifyToken","normalizeLoginResponse","user_name","user_info","show_name","user_id","user_type","session_token","refresh_token","hashPassword","nonce","shaObj","jsSHA","org_password_hash_str","shaObj2","salt","toString","cleanLocalAccountInfo","localStorage","removeItem","cookie_options","path","expires","secure","sameSite","document","cookie","entries","map","key","join","saveLocalAccountInfo","account_info","setItem","parseTaskStatus","sleep","ms","setTimeout","asRecord","parseTask","record","id","parseTasks","task","TaskManagerClient","createTask","options","req","task_type","taskType","permissions","parent_id","priority","userId","app_id","app_name","parsed","taskId","task_id","getTask","waitForTaskEnd","waitForTaskEndWithInterval","pollIntervalMs","Number","isFinite","listTasks","filter","root_id","source_user_id","sourceUserId","source_app_id","sourceAppId","tasks","listTasksByTimeRange","start_time","startTime","end_time","endTime","updateTask","progress","cancelTask","recursive","getSubtasks","parentId","updateTaskStatus","updateTaskProgress","completedItems","totalItems","completed_items","total_items","updateTaskError","errorMessage","error_message","updateTaskData","deleteTask","pauseTask","resumeTask","completeTask","markTaskAsWaitingForApproval","markTaskAsFailed","pauseAllRunningTasks","runningTasks","resumeLastPausedTask","pausedTasks","lastPausedTask","OpenDanClient","listAgents","include_sub_agents","includeSubAgents","limit","cursor","getAgent","agentId","agent_id","getWorkshop","getWorkspace","listWorkshopWorklogs","owner_session_id","ownerSessionId","log_type","logType","step_id","stepId","keyword","listWorkspaceWorklogs","listWorkshopTodos","include_closed","includeClosed","listWorkspaceTodos","listWorkshopSubAgents","include_disabled","includeDisabled","listWorkspaceSubAgents","listAgentSessions","getAgentSession","sessionId","session_id","getSessionRecord","RuntimeType","DEFAULT_CONFIG","zoneHost","defaultProtocol","runtimeType","BuckyOSRuntime","config","setConfig","getConfig","getAppId","getZoneHostName","getZoneServiceURL","serviceName","setRefreshToken","getRefreshToken","getServiceRpcClient","getVerifyHubClient","getTaskManagerClient","getOpenDanClient","_currentRuntime","_currentAccountInfo","getRuntimeType","BuckyApi","AppRuntime","Browser","runtimeProcess","process","_a","versions","node","NodeJS","Unknown","buckyos","initBuckyOS","warn","finalConfig","zone_host_name","getItem","host","default_protocol","zone_doc_url","up_host","split","tryGetZoneHostName","getBuckyOSConfig","attachEvent","event_name","callback","removeEvent","cookie_id","getAccountInfo","doLogin","login_nonce","password_hash","verify_hub_client","account_response","normalized","auto_login","getLocalAccountInfo","auth_client","logout","clean_account_info","getAppSetting","setting_name","setAppSetting","setting_value","getCurrentWalletUser","getCurrentUser","code","walletSignWithActiveDid","payloads","signJsonWithActiveDid","signatures","service_name"],"mappings":"+OA0BA,MAAMA,UAAiBC,MACrB,WAAAC,CAAYC,GACVC,MAAMD,GACNE,KAAKC,KAAO,UACd,EAKF,MAAMC,EAAmC,oBAAXC,QAAkD,mBAAjBA,OAAOC,MAChEC,EAAuC,oBAAfC,YAA0D,mBAArBA,WAAWF,MAExEG,EAA0BL,EAC5BC,OAAOC,MAAMI,KAAKL,QAClBE,EACEC,WAAWF,MAAMI,KAAKF,YACtBG,UACQ,MAAA,IAAId,EAAS,yCAAwC,EAGnE,MAAMe,EAQJ,WAAAb,CAAYc,EAAaC,EAAuB,KAAMC,EAAqB,KAAMC,EAAmBP,GAClGP,KAAKe,UAAYJ,EACjBX,KAAKgB,aAAe,eACfhB,KAAAa,IAAMA,GAAOI,KAAKC,MACvBlB,KAAKmB,aAAeP,GAAS,KAC7BZ,KAAKoB,UAAYR,GAAS,KAC1BZ,KAAKc,QAAUA,CACjB,CAEA,UAAMO,CAAuBC,EAAgBC,GACpC,OAAAvB,KAAKwB,MAAwBF,EAAQC,EAC9C,CAEA,MAAAE,CAAOZ,GACLb,KAAKa,IAAMA,CACb,CAEA,iBAAAa,GACE1B,KAAKmB,aAAenB,KAAKoB,SAC3B,CAEA,eAAAO,CAAgBf,GACdZ,KAAKmB,aAAeP,CACtB,CAEA,eAAAgB,GACE,OAAO5B,KAAKmB,YACd,CAEQ,YAAAU,CAAsBP,EAAgBC,EAAiBV,GAEtD,MAAA,CACLS,SACAC,SACAO,IAJmB9B,KAAKmB,aAAe,CAACN,EAAKb,KAAKmB,cAAgB,CAACN,GAMvE,CAEQ,QAAAkB,CAASD,EAAcE,GACzB,GAAAF,QACK,OAAA,KAGT,IAAKG,MAAMC,QAAQJ,GACX,MAAA,IAAInC,EAAS,oBAGjB,GAAAmC,EAAIK,OAAS,EACT,MAAA,IAAIxC,EAAS,gBAGf,MAAAyC,EAAcN,EAAI,GACpB,GAAuB,iBAAhBM,EACH,MAAA,IAAIzC,EAAS,wBAErB,GAAIyC,IAAgBJ,EAClB,MAAM,IAAIrC,EAAS,kBAAkByC,MAAgBJ,KAGnD,GAAAF,EAAIK,QAAU,EAAG,CACb,MAAAvB,EAAQkB,EAAI,GACd,GAAiB,iBAAVlB,EACH,MAAA,IAAIjB,EAAS,wBAEd,OAAAiB,CACT,CAEO,OAAA,IACT,CAEA,WAAcY,CAAwBF,EAAgBC,GACpD,MAAMS,EAAahC,KAAKa,IACxBb,KAAKa,KAAO,EACZ,MAAMwB,EAAcrC,KAAK6B,aAAaP,EAAQC,EAAQS,GAElD,IACF,MAAMM,QAAiBtC,KAAKc,QAAQd,KAAKe,UAAW,CAClDO,OAAQ,OACRiB,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUL,KAGnB,IAACC,EAASK,GACZ,MAAM,IAAIhD,EAAS,mBAAmB2C,EAASM,UAG3C,MAAAC,QAA2CP,EAASQ,OAEpDC,EAAe/C,KAAK+B,SAASc,EAAYf,IAAKE,GAKhD,GAJAe,IACF/C,KAAKmB,aAAe4B,GAGlB,UAAWF,GAAeA,EAAYG,MACxC,MAAM,IAAIrD,EAAS,mBAAmBkD,EAAYG,SAGpD,KAAM,WAAYH,SAAuC,IAAvBA,EAAYI,OACtC,MAAA,IAAItD,EAAS,+BAGrB,OAAOkD,EAAYI,aACZD,GACP,GAAIA,aAAiBrD,EACb,MAAAqD,EAER,MAAMlD,EAAUkD,aAAiBpD,MAAQoD,EAAMlD,QAAUoD,OAAOF,GAChE,MAAM,IAAIrD,EAAS,oBAAoBG,IACzC,CACF,EClKK,MAAMqD,EAOT,WAAAtD,CAAYuD,EAAsBC,GAC9BrD,KAAKsD,cAAgBF,EACrBpD,KAAKuD,SAAWF,EAChBrD,KAAKwD,WAAa,IAEtB,CAGA,WAAMC,CAAMC,EAAyB,MAC7B,IACA,MAAM9C,QAAcZ,KAAK2D,gBAAgBD,GAElC,OADYjB,KAAKmB,MAAMhD,SAEzBoC,GACL,MAAMlD,EAAUkD,aAAiBpD,MAAQoD,EAAMlD,QAAUoD,OAAOF,GAAS,gBACnE,MAAA,IAAIpD,MAAME,EACpB,CACJ,CAEA,aAAM+D,CAAQC,EAAcvC,GAG5B,CAEA,qBAAMoC,CAAgBD,EAAyB,MAC3C,OAAO,IAAIK,SAAQ,CAACC,EAASC,KACzB,MAEMC,EAAQ/D,OAAOgE,OAAOC,MAAQ,EAAMA,IACpCC,EAAOlE,OAAOgE,OAAOG,OAAS,EAAMA,IAC1C,IAAIC,EAAUpE,OAAOqE,SAASC,SAAW,SAAWzE,KAAKsD,cAAgB,cAGnE,MAAAoB,EAAiBhB,GAAgBvD,OAAOqE,SAASG,KACjDC,EAAU,GAAGL,eAAqBvE,KAAKuD,yBAAyBsB,mBAAmBH,yBACzFI,MAAMF,GACN5E,KAAKwD,WAAarD,OAAO4E,KAAKH,EAAS,gBAAiB,4BAAuCP,UAAYH,KAGpG/D,OAAA6E,iBAAiB,WAAYC,IAEhC,GADQC,QAAAC,IAAI,gBAAgBF,GACxBA,EAAMG,SAAW,IAAIC,IAAId,GAASa,OAClC,OAGJ,MAAMxE,MAAEA,EAAAoC,MAAOA,GAAUiC,EAAMK,KAE3B1E,EAEAoD,EAAQpD,GAERqD,EAAOjB,GAAS,uBAGhBhD,KAAKwD,YACLxD,KAAKwD,WAAW+B,OACpB,IACD,EAAK,GAEhB,EC7DJ,MAAMC,EAAE,mEAAmEC,EAAE,gDAAgDC,EAAE,+CAA+C,SAASC,EAAEH,EAAEC,EAAEC,EAAEC,GAAG,IAAIC,EAAEC,EAAEC,EAAE,MAAMC,EAAEN,GAAG,CAAC,GAAGO,GAAGN,EAAEA,GAAG,KAAK,EAAEO,GAAE,IAAKN,EAAE,EAAE,EAAE,IAAIC,EAAE,EAAEA,EAAEJ,EAAErD,OAAOyD,GAAG,EAAEE,EAAEF,EAAEI,EAAEH,EAAEC,IAAI,EAAEC,EAAE5D,QAAQ0D,GAAGE,EAAEG,KAAK,GAAGH,EAAEF,IAAIL,EAAEI,IAAI,GAAGK,EAAEN,GAAGG,EAAE,IAAI,MAAM,CAACK,MAAMJ,EAAEK,OAAO,EAAEZ,EAAErD,OAAOuD,EAAE,CAAU,SAAAE,EAAEA,EAAEC,EAAEC,GAAG,OAAOD,GAAG,IAAI,OAAO,IAAI,UAAU,IAAI,UAAU,MAAM,QAAc,MAAA,IAAIjG,MAAM,8CAA8C,OAAOgG,GAAG,IAAI,MAAa,OAAA,SAASJ,EAAEC,EAAEC,GAAG,OAAO,SAASF,EAAEC,EAAEC,EAAEC,GAAOC,IAAAA,EAAEC,EAAEC,EAAEC,EAAK,GAAA,GAAGP,EAAErD,OAAO,EAAQ,MAAA,IAAIvC,MAAM,iDAAiD,MAAMoG,EAAEP,GAAG,CAAC,GAAGQ,GAAGP,EAAEA,GAAG,KAAK,EAAEW,GAAE,IAAKV,EAAE,EAAE,EAAE,IAAIC,EAAE,EAAEA,EAAEJ,EAAErD,OAAOyD,GAAG,EAAE,CAAIC,GAAAA,EAAES,SAASd,EAAEe,OAAOX,EAAE,GAAG,IAAIY,MAAMX,GAAS,MAAA,IAAIjG,MAAM,kDAAsDmG,IAAAA,GAAGH,IAAI,GAAGK,EAAEH,EAAEC,IAAI,EAAEC,EAAE7D,QAAQ2D,GAAGE,EAAEE,KAAK,GAAGF,EAAEF,IAAID,GAAG,GAAGQ,EAAEV,GAAGI,EAAE,GAAG,CAAC,MAAM,CAACI,MAAMH,EAAEI,OAAO,EAAEZ,EAAErD,OAAOuD,EAAE,CAAxY,CAA0YF,EAAEC,EAAEC,EAAEI,EAAE,EAAE,IAAI,OAAc,OAAA,SAASN,EAAEC,EAAEC,GAAG,OAAO,SAASF,EAAEC,EAAEC,EAAEC,EAAEC,GAAOC,IAAAA,EAAEC,EAAEC,EAAEC,EAAEC,EAAEI,EAAEI,EAAEC,EAAEC,EAAE,EAAQC,MAAAA,EAAElB,GAAG,CAAC,GAAGmB,GAAGlB,EAAEA,GAAG,KAAK,EAAE,GAAG,SAASF,EAAMgB,IAAAA,GAAOb,IAAAA,EAAE,EAAE,EAAEG,EAAE,EAAEA,EAAEP,EAAErD,OAAO4D,GAAG,EAAE,IAAIF,EAAEL,EAAEsB,WAAWf,GAAGD,EAAE,GAAG,IAAID,EAAEC,EAAEI,KAAKL,GAAG,KAAKA,GAAGC,EAAEI,KAAK,IAAIL,IAAI,GAAGC,EAAEI,KAAK,IAAI,GAAGL,IAAI,MAAMA,GAAG,OAAOA,EAAEC,EAAEI,KAAK,IAAIL,IAAI,GAAG,IAAIA,IAAI,EAAE,GAAG,IAAI,GAAGA,IAAIE,GAAG,EAAEF,EAAE,QAAQ,KAAKA,IAAI,GAAG,KAAKL,EAAEsB,WAAWf,IAAID,EAAEI,KAAK,IAAIL,IAAI,GAAG,IAAIA,IAAI,GAAG,GAAG,IAAIA,IAAI,EAAE,GAAG,IAAI,GAAGA,IAAIG,EAAE,EAAEA,EAAEF,EAAE3D,OAAO6D,GAAG,EAAE,CAAC,IAAIK,EAAEM,EAAEE,EAAEZ,EAAEI,IAAI,EAAEO,EAAEzE,QAAQ8D,GAAGW,EAAEV,KAAK,GAAGU,EAAEX,IAAIH,EAAEE,IAAI,GAAGS,EAAEb,GAAGS,EAAE,IAAIM,GAAG,CAAC,MAAUF,IAAAA,OAAOb,EAAE,EAAE,EAAEc,EAAE,YAAYjB,GAAG,IAAIG,GAAG,YAAYH,GAAG,IAAIG,EAAEG,EAAE,EAAEA,EAAEP,EAAErD,OAAO4D,GAAG,EAAE,CAAKF,IAAAA,EAAEL,EAAEsB,WAAWf,IAAG,IAAKW,IAAIV,EAAE,IAAIH,EAAEA,EAAEG,GAAG,EAAEH,IAAI,GAAGQ,EAAEM,EAAEE,EAAEZ,EAAEI,IAAI,EAAEO,EAAEzE,QAAQ8D,GAAGW,EAAEV,KAAK,GAAGU,EAAEX,IAAIJ,GAAG,GAAGY,EAAEb,GAAGS,EAAE,IAAIM,GAAG,CAAC,CAAC,MAAM,CAACR,MAAMS,EAAER,OAAO,EAAEO,EAAEhB,EAAE,CAAhsB,CAAksBH,EAAEK,EAAEJ,EAAEC,EAAEI,EAAE,EAAE,IAAI,MAAa,OAAA,SAASL,EAAEC,EAAEC,GAAG,OAAO,SAASF,EAAEC,EAAEC,EAAEC,GAAG,IAAIC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEI,EAAEI,EAAEC,EAAE,EAAE,MAAMC,EAAEjB,GAAG,CAAC,GAAGkB,GAAGjB,EAAEA,GAAG,KAAK,EAAEkB,OAAOjB,EAAE,EAAE,EAAEmB,EAAEtB,EAAEuB,QAAQ,KAAQ,IAAA,IAAKvB,EAAEwB,OAAO,qBAA2B,MAAA,IAAIrH,MAAM,uCAA0C6F,GAAAA,EAAEA,EAAEyB,QAAQ,KAAK,KAAI,IAAKH,GAAGA,EAAEtB,EAAEtD,OAAa,MAAA,IAAIvC,MAAM,uCAAuC,IAAIkG,EAAE,EAAEA,EAAEL,EAAEtD,OAAO2D,GAAG,EAAE,CAAC,IAAIG,EAAER,EAAEc,OAAOT,EAAE,GAAGE,EAAE,EAAED,EAAE,EAAEA,EAAEE,EAAE9D,OAAO4D,GAAG,EAAEF,EAAEL,EAAEwB,QAAQf,EAAEkB,OAAOpB,IAAIC,GAAGH,GAAG,GAAG,EAAEE,EAAE,IAAIA,EAAE,EAAEA,EAAEE,EAAE9D,OAAO,EAAE4D,GAAG,EAAE,CAAC,IAAIU,EAAEC,EAAEE,EAAEP,EAAEI,IAAI,EAAEE,EAAExE,QAAQkE,GAAGM,EAAET,KAAK,GAAGS,EAAEN,KAAKL,IAAI,GAAG,EAAED,EAAE,MAAM,GAAGc,EAAEjB,GAAGa,EAAE,IAAIC,GAAG,CAAC,CAAC,CAAC,MAAM,CAACP,MAAMQ,EAAEP,OAAO,EAAEM,EAAEf,EAAE,CAA1hB,CAA4hBF,EAAEC,EAAEC,EAAEG,EAAE,EAAE,IAAI,QAAe,OAAA,SAASN,EAAEC,EAAEC,GAAG,OAAO,SAASF,EAAEC,EAAEC,EAAEC,GAAOC,IAAAA,EAAEC,EAAEC,EAAEC,EAAE,MAAMC,EAAEP,GAAG,CAAC,GAAGQ,GAAGP,EAAEA,GAAG,KAAK,EAAEW,GAAE,IAAKV,EAAE,EAAE,EAAE,IAAIE,EAAE,EAAEA,EAAEL,EAAErD,OAAO0D,GAAG,EAAED,EAAEJ,EAAEsB,WAAWjB,GAAGE,EAAEF,EAAEI,EAAEH,EAAEC,IAAI,EAAEC,EAAE7D,QAAQ2D,GAAGE,EAAEE,KAAK,GAAGF,EAAEF,IAAIF,GAAG,GAAGS,EAAEV,GAAGI,EAAE,IAAI,MAAM,CAACI,MAAMH,EAAEI,OAAO,EAAEZ,EAAErD,OAAOuD,EAAE,CAAlN,CAAoNF,EAAEC,EAAEC,EAAEI,EAAE,EAAE,IAAI,cAAiB,IAAC,IAAIsB,YAAY,EAAE,OAAO5B,GAAS,MAAA,IAAI5F,MAAM6F,EAAE,CAAQ,OAAA,SAASD,EAAEC,EAAEC,GAAG,OAAkBD,EAA4CA,EAA1CC,EAA4CA,EAA1CE,EAA4CE,EAAlCH,EAAE,IAAI0B,WAAsB7B,GAARC,EAAEC,EAAEE,GAAjD,IAAWH,EAAEC,EAAEE,CAA8C,EAAE,IAAI,aAAgB,IAAC,IAAIyB,WAAW,EAAE,OAAO7B,GAAS,MAAA,IAAI5F,MAAM8F,EAAE,CAAQ,OAAA,SAASF,EAAEC,EAAEC,GAAG,OAAOC,EAAEH,EAAEC,EAAEC,EAAEI,EAAE,EAAE,QAAc,MAAA,IAAIlG,MAAM,oEAAoE,CAAC,SAASiG,EAAEF,EAAEC,EAAEC,EAAEC,GAAG,OAAOH,GAAG,IAAI,MAAM,OAAO,SAASH,GAAG,OAAO,SAASA,EAAEC,EAAEC,EAAEC,GAAG,MAAMC,EAAE,mBAAuBC,IAAAA,EAAEC,EAAEC,EAAE,GAAG,MAAMC,EAAEP,EAAE,EAAEQ,GAAE,IAAKP,EAAE,EAAE,EAAE,IAAIG,EAAE,EAAEA,EAAEG,EAAEH,GAAG,EAAEC,EAAEN,EAAEK,IAAI,KAAK,GAAGI,EAAEP,GAAGG,EAAE,IAAIE,GAAGH,EAAEuB,OAAOrB,IAAI,EAAE,IAAIF,EAAEuB,OAAO,GAAGrB,GAAG,OAAOH,EAAE2B,YAAYvB,EAAEwB,cAAcxB,CAAC,CAA1M,CAA4MP,EAAEI,EAAEC,EAAEC,EAAE,EAAE,IAAI,MAAM,OAAO,SAASL,GAAG,OAAO,SAASA,EAAEC,EAAEC,EAAEC,GAAG,IAAIC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEI,EAAE,GAAG,MAAMI,EAAEf,EAAE,EAAEgB,GAAE,IAAKf,EAAE,EAAE,EAAE,IAAIE,EAAE,EAAEA,EAAEY,EAAEZ,GAAG,EAAMG,IAAAA,EAAEH,EAAE,EAAEY,EAAEhB,EAAEI,EAAE,IAAI,GAAG,EAAEI,EAAEJ,EAAE,EAAEY,EAAEhB,EAAEI,EAAE,IAAI,GAAG,EAAEE,GAAGN,EAAEI,IAAI,KAAK,GAAGa,EAAEf,GAAGE,EAAE,IAAI,MAAM,IAAIG,IAAI,GAAGU,EAAEf,IAAIE,EAAE,GAAG,IAAI,MAAM,EAAEI,IAAI,GAAGS,EAAEf,IAAIE,EAAE,GAAG,IAAI,IAAIC,EAAE,EAAEA,EAAE,EAAEA,GAAG,EAAEO,GAAG,EAAER,EAAE,EAAEC,GAAGJ,EAAEF,EAAE2B,OAAOpB,IAAI,GAAG,EAAED,GAAG,IAAIF,EAAE4B,OAAcnB,OAAAA,CAAC,CAAhS,CAAkSZ,EAAEG,EAAEC,EAAEC,EAAE,EAAE,IAAI,QAAQ,OAAO,SAASN,GAAU,OAAA,SAASA,EAAEC,EAAEC,GAAOC,IAAAA,EAAEC,EAAEC,EAAE,GAAG,MAAMC,EAAEL,EAAE,EAAEM,GAAE,IAAKL,EAAE,EAAE,EAAE,IAAIC,EAAE,EAAEA,EAAEG,EAAEH,GAAG,EAAEC,EAAEJ,EAAEG,IAAI,KAAK,GAAGI,EAAEL,GAAGC,EAAE,IAAI,IAAIE,GAAG3C,OAAOuE,aAAa7B,GAAUC,OAAAA,CAAC,CAAxI,CAA0IL,EAAEI,EAAEC,EAAE,EAAE,IAAI,cAAiB,IAAC,IAAIuB,YAAY,EAAE,OAAO5B,GAAS,MAAA,IAAI5F,MAAM6F,EAAE,CAAC,OAAO,SAASD,GAAU,OAAA,SAASA,EAAEC,EAAEC,GAAOC,IAAAA,EAAE,MAAMC,EAAEH,EAAE,EAAEI,EAAE,IAAIuB,YAAYxB,GAAGE,EAAE,IAAIuB,WAAWxB,GAAGE,GAAE,IAAKL,EAAE,EAAE,EAAE,IAAIC,EAAE,EAAEA,EAAEC,EAAED,GAAG,EAAEG,EAAEH,GAAGH,EAAEG,IAAI,KAAK,GAAGI,EAAEL,GAAGC,EAAE,IAAI,IAAWE,OAAAA,CAAC,CAAnJ,CAAqJL,EAAEI,EAAEC,EAAE,EAAE,IAAI,aAAgB,IAAC,IAAIwB,WAAW,EAAE,OAAO7B,GAAS,MAAA,IAAI5F,MAAM8F,EAAE,CAAC,OAAO,SAASF,GAAU,OAAA,SAASA,EAAEC,EAAEC,GAAOC,IAAAA,EAAQC,MAAAA,EAAEH,EAAE,EAAEI,GAAE,IAAKH,EAAE,EAAE,EAAEI,EAAE,IAAIuB,WAAWzB,GAAG,IAAID,EAAE,EAAEA,EAAEC,EAAED,GAAG,EAAEG,EAAEH,GAAGH,EAAEG,IAAI,KAAK,GAAGE,EAAEH,GAAGC,EAAE,IAAI,IAAWG,OAAAA,CAAC,CAA9H,CAAgIN,EAAEI,EAAEC,EAAE,EAAE,QAAc,MAAA,IAAIjG,MAAM,8DAA8D,CAAO,MAAAkG,EAAE,WAAWC,EAAE,CAAC,WAAW,WAAW,WAAW,WAAW,UAAU,WAAW,WAAW,WAAW,WAAW,UAAU,UAAU,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,UAAU,UAAU,UAAU,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,UAAU,UAAU,UAAU,UAAU,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,YAAYC,EAAE,CAAC,WAAW,UAAU,UAAU,WAAW,WAAW,WAAW,WAAW,YAAYC,EAAE,CAAC,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,UAAU,YAAYI,EAAE,sCAAsCI,EAAE,gCAAyC,SAAAC,EAAElB,EAAEC,GAAG,IAAIC,EAAEC,EAAE,MAAMC,EAAEJ,EAAEY,SAAS,EAAEP,EAAEJ,EAAEW,SAAS,EAAEN,EAAEF,GAAG,EAAEG,EAAE,EAAEH,GAAG,EAAKA,GAAAA,EAAE,GAAG,EAAE,CAAC,IAAIF,EAAE,EAAEA,EAAEG,EAAEH,GAAG,EAAEC,EAAEC,EAAEF,IAAI,EAAEF,EAAEW,MAAMR,IAAIF,EAAEU,MAAMT,IAAI,IAAII,EAAEN,EAAEW,MAAMD,KAAK,GAAGV,EAAEW,MAAMR,EAAE,IAAIF,EAAEU,MAAMT,IAAI,KAAKK,EAAE,OAAOP,EAAEW,MAAMhE,QAAQ,GAAG,GAAG0D,EAAED,GAAGJ,EAAEW,MAAMuB,MAAM,CAACvB,MAAMX,EAAEW,MAAMC,OAAOZ,EAAEY,OAAOX,EAAEW,OAAO,CAAC,MAAM,CAACD,MAAMX,EAAEW,MAAMwB,OAAOlC,EAAEU,OAAOC,OAAOZ,EAAEY,OAAOX,EAAEW,OAAO,CAAC,SAASO,EAAEnB,GAAG,MAAMC,EAAE,CAAC6B,aAAY,EAAGE,OAAO,IAAII,WAAU,GAAIlC,EAAEF,GAAG,CAAA,EAAGG,EAAE,wCAAwC,GAAGF,EAAE6B,YAAY5B,EAAE4B,cAAa,EAAG5B,EAAE8B,SAAS/B,EAAE+B,OAAO9B,EAAE8B,QAAQ9B,EAAEkC,UAAU,CAAIlC,GAAAA,EAAEkC,UAAU,GAAG,EAAQ,MAAA,IAAIhI,MAAM+F,GAAGF,EAAEmC,UAAUlC,EAAEkC,SAAS,MAAA,GAASlC,EAAEmC,SAAS,CAAInC,GAAAA,EAAEmC,SAAS,GAAG,EAAQ,MAAA,IAAIjI,MAAM+F,GAAGF,EAAEmC,UAAUlC,EAAEmC,QAAQ,CAAI,GAAA,kBAAkBpC,EAAE6B,YAAkB,MAAA,IAAI1H,MAAM,yCAA4C,GAAA,iBAAiB6F,EAAE+B,OAAa,MAAA,IAAI5H,MAAM,oCAA2C6F,OAAAA,CAAC,CAAC,SAASmB,EAAEpB,EAAEC,EAAEC,EAAEC,GAAG,MAAME,EAAEL,EAAE,mCAAmC,IAAIC,EAAE,CAAC,IAAIE,EAAQ,MAAA,IAAI/F,MAAMiG,GAAUF,OAAAA,CAAC,CAAC,QAAG,IAASF,EAAEU,QAAQV,EAAEqC,OAAa,MAAA,IAAIlI,MAAMiG,GAAU,OAAAD,EAAEH,EAAEqC,OAAOrC,EAAEsC,UAAU,OAAOrC,EAA9BE,CAAiCH,EAAEU,MAAM,CAAC,MAAMU,EAAE,WAAAhH,CAAY2F,EAAEC,EAAEC,GAASC,MAAAA,EAAED,GAAG,CAAA,EAAM,GAAA1F,KAAKwF,EAAEC,EAAEzF,KAAK4F,EAAED,EAAEoC,UAAU,OAAO/H,KAAKgI,UAAUrC,EAAEqC,WAAW,EAAExB,MAAMxG,KAAKgI,YAAYhI,KAAKgI,YAAY1B,SAAStG,KAAKgI,UAAU,KAAK,EAAEhI,KAAKgI,UAAgB,MAAA,IAAIpI,MAAM,iCAAsCI,KAAA8F,EAAEN,EAAExF,KAAK+F,EAAE,GAAG/F,KAAKgG,EAAE,EAAEhG,KAAK2G,GAAE,EAAG3G,KAAK4G,EAAE,EAAE5G,KAAK+G,GAAE,EAAG/G,KAAKiI,EAAE,GAAGjI,KAAKkI,EAAE,EAAE,CAAC,MAAAC,CAAO3C,GAAG,IAAIC,EAAEC,EAAE,EAAQC,MAAAA,EAAE3F,KAAKoI,IAAI,EAAExC,EAAE5F,KAAKqI,EAAE7C,EAAExF,KAAK+F,EAAE/F,KAAKgG,GAAGH,EAAED,EAAEQ,OAAON,EAAEF,EAAEO,MAAMJ,EAAEF,IAAI,EAAE,IAAIJ,EAAE,EAAEA,EAAEM,EAAEN,GAAGE,EAAED,EAAE1F,KAAKoI,GAAGvC,IAAI7F,KAAKsI,EAAEtI,KAAKuI,EAAEzC,EAAE0C,MAAM/C,EAAEA,EAAEE,GAAG3F,KAAKsI,GAAG5C,GAAG1F,KAAKoI,GAAG,OAAOpI,KAAK4G,GAAGlB,EAAE1F,KAAK+F,EAAED,EAAE0C,MAAM9C,IAAI,GAAG1F,KAAKgG,EAAEH,EAAE7F,KAAKoI,EAAEpI,KAAK2G,GAAE,EAAG3G,IAAI,CAAC,OAAAyI,CAAQjD,EAAEC,GAAOC,IAAAA,EAAEC,EAAEC,EAAE5F,KAAK0I,EAAQ5C,MAAAA,EAAEa,EAAElB,GAAG,GAAGzF,KAAK2I,EAAE,CAAC,QAAQ7C,EAAE8B,UAAgB,MAAA,IAAIhI,MAAM,8CAA8CgG,EAAEE,EAAE8B,SAAS,CAAC,MAAM7B,EAAEF,EAAEL,EAAEI,EAAE5F,KAAK4I,EAAE9C,GAAM,GAAA9F,KAAK+G,GAAG/G,KAAK6I,EAAE,OAAO9C,EAAE/F,KAAK6I,EAAE/C,IAAQH,IAAAA,EAAE3F,KAAK8I,EAAE9I,KAAK+F,EAAEyC,QAAQxI,KAAKgG,EAAEhG,KAAK4G,EAAE5G,KAAK+I,EAAE/I,KAAKsI,GAAG1C,GAAGF,EAAE,EAAEA,EAAE1F,KAAKgI,UAAUtC,GAAG,EAAO1F,KAAA2I,GAAG/C,EAAE,IAAI,IAAID,EAAEA,EAAExD,OAAO,IAAI,WAAW,GAAGyD,EAAE,IAAID,EAAE3F,KAAK8I,EAAEnD,EAAEC,EAAE,EAAE5F,KAAKgJ,EAAEhJ,KAAK8F,GAAGF,GAAG,OAAOG,EAAEJ,EAAE,CAAC,UAAAsD,CAAWzD,EAAEC,EAAEC,GAAG,IAAI1F,KAAKkJ,EAAQ,MAAA,IAAItJ,MAAM,iCAAiC,GAAGI,KAAK2G,EAAQ,MAAA,IAAI/G,MAAM,2CAAiD+F,MAAAA,EAAEC,EAAEH,GAAGC,GAAG,CAAE,GAAEqC,UAAU,OAAO/H,KAAK4I,GAAQ5I,KAAAmJ,EAAExD,EAAEH,GAAG,CAAC,CAAA2D,CAAE3D,GAAG,MAAMC,EAAEzF,KAAKoI,IAAI,EAAE1C,EAAED,EAAE,EAAE,EAAME,IAAAA,EAAE,GAAG,IAAI3F,KAAKgI,UAAgB,MAAA,IAAIpI,MAAM6G,GAAG,GAAGzG,KAAK+G,EAAQ,MAAA,IAAInH,MAAM,uBAA2B6F,IAAAA,EAAED,EAAEY,OAAO,IAAIZ,EAAEW,MAAMnG,KAAK8I,EAAEtD,EAAEW,MAAMX,EAAEY,OAAO,EAAEpG,KAAKgJ,EAAEhJ,KAAK8F,GAAG9F,KAAK0I,IAAIlD,EAAEW,MAAMhE,QAAQuD,GAAGF,EAAEW,MAAMD,KAAK,GAAG,IAAIP,EAAE,EAAEA,GAAGD,EAAEC,GAAG,EAAE3F,KAAKiI,EAAEtC,GAAG,UAAUH,EAAEW,MAAMR,GAAG3F,KAAKkI,EAAEvC,GAAG,WAAWH,EAAEW,MAAMR,GAAG3F,KAAKsI,EAAEtI,KAAKuI,EAAEvI,KAAKiI,EAAEjI,KAAKsI,GAAGtI,KAAK4G,EAAE5G,KAAKoI,EAAEpI,KAAK+G,GAAE,CAAE,CAAC,OAAAqC,CAAQ5D,EAAEC,GAASC,MAAAA,EAAEiB,EAAElB,GAAU,OAAAI,EAAEL,EAAExF,KAAK0I,EAAE1I,KAAK4I,EAAElD,EAAlBG,CAAqB7F,KAAKqJ,IAAI,CAAC,CAAAA,GAAQ7D,IAAAA,EAAE,IAAIxF,KAAK+G,EAAQ,MAAA,IAAInH,MAAM,qDAAqD,MAAM6F,EAAEzF,KAAK8I,EAAE9I,KAAK+F,EAAEyC,QAAQxI,KAAKgG,EAAEhG,KAAK4G,EAAE5G,KAAK+I,EAAE/I,KAAKsI,GAAGtI,KAAK0I,GAAUlD,OAAAA,EAAExF,KAAKuI,EAAEvI,KAAKkI,EAAElI,KAAKgJ,EAAEhJ,KAAK8F,IAAIN,EAAExF,KAAK8I,EAAErD,EAAEzF,KAAK0I,EAAE1I,KAAKoI,EAAE5C,EAAExF,KAAK0I,GAAGlD,CAAC,EAAW,SAAAuB,EAAEvB,EAAEC,GAAUD,OAAAA,GAAGC,EAAED,IAAI,GAAGC,CAAC,CAAU,SAAAwC,EAAEzC,EAAEC,GAAUD,OAAAA,IAAIC,EAAED,GAAG,GAAGC,CAAC,CAAU,SAAA6D,EAAE9D,EAAEC,GAAG,OAAOD,IAAIC,CAAC,CAAU,SAAAyC,EAAE1C,EAAEC,EAAEC,GAAG,OAAOF,EAAEC,EAAEC,CAAC,CAAU,SAAA6D,EAAE/D,EAAEC,EAAEC,GAAUF,OAAAA,EAAEC,GAAGD,EAAEE,CAAC,CAAU,SAAA0C,EAAE5C,EAAEC,EAAEC,GAAG,OAAOF,EAAEC,EAAED,EAAEE,EAAED,EAAEC,CAAC,CAAC,SAAS2C,EAAE7C,GAAU,OAAAyC,EAAEzC,EAAE,GAAGyC,EAAEzC,EAAE,IAAIyC,EAAEzC,EAAE,GAAG,CAAU,SAAAgE,EAAEhE,EAAEC,GAASC,MAAAA,GAAG,MAAMF,IAAI,MAAMC,GAAU,OAAA,OAAOD,IAAI,KAAKC,IAAI,KAAKC,IAAI,MAAM,GAAG,MAAMA,CAAC,CAAC,SAAS4C,EAAE9C,EAAEC,EAAEC,EAAEC,GAAG,MAAMC,GAAG,MAAMJ,IAAI,MAAMC,IAAI,MAAMC,IAAI,MAAMC,GAAG,OAAO,OAAOH,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,MAAM,GAAG,MAAMA,CAAC,CAAC,SAAS2C,EAAE/C,EAAEC,EAAEC,EAAEC,EAAEC,GAASC,MAAAA,GAAG,MAAML,IAAI,MAAMC,IAAI,MAAMC,IAAI,MAAMC,IAAI,MAAMC,GAAG,OAAO,OAAOJ,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,MAAM,GAAG,MAAMA,CAAC,CAAC,SAAS6C,EAAElD,GAAU,OAAAyC,EAAEzC,EAAE,GAAGyC,EAAEzC,EAAE,IAAI8D,EAAE9D,EAAE,EAAE,CAAC,SAASmD,EAAEnD,GAAU,OAAAyC,EAAEzC,EAAE,GAAGyC,EAAEzC,EAAE,IAAIyC,EAAEzC,EAAE,GAAG,CAAC,SAASoD,EAAEpD,GAAG,MAAM,CAAC,WAAW,WAAW,WAAW,UAAU,WAAW,CAAU,SAAAqD,EAAErD,EAAEC,GAAG,IAAIC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAE,MAAMC,EAAE,GAAOP,IAAAA,EAAED,EAAE,GAAGE,EAAEF,EAAE,GAAGG,EAAEH,EAAE,GAAGI,EAAEJ,EAAE,GAAGK,EAAEL,EAAE,GAAGO,EAAE,EAAEA,EAAE,GAAGA,GAAG,EAAEC,EAAED,GAAGA,EAAE,GAAGR,EAAEQ,GAAGe,EAAEd,EAAED,EAAE,GAAGC,EAAED,EAAE,GAAGC,EAAED,EAAE,IAAIC,EAAED,EAAE,IAAI,GAAGD,EAAEC,EAAE,GAAGuC,EAAExB,EAAErB,EAAE,GAAG6D,EAAE5D,EAAEC,EAAEC,GAAGC,EAAE,WAAWG,EAAED,IAAIA,EAAE,GAAGuC,EAAExB,EAAErB,EAAE,GAAGwC,EAAEvC,EAAEC,EAAEC,GAAGC,EAAE,WAAWG,EAAED,IAAIA,EAAE,GAAGuC,EAAExB,EAAErB,EAAE,GAAG0C,EAAEzC,EAAEC,EAAEC,GAAGC,EAAE,WAAWG,EAAED,IAAIuC,EAAExB,EAAErB,EAAE,GAAGwC,EAAEvC,EAAEC,EAAEC,GAAGC,EAAE,WAAWG,EAAED,IAAIF,EAAED,EAAEA,EAAED,EAAEA,EAAEmB,EAAEpB,EAAE,IAAIA,EAAED,EAAEA,EAAEK,EAASN,OAAAA,EAAE,GAAG+D,EAAE9D,EAAED,EAAE,IAAIA,EAAE,GAAG+D,EAAE7D,EAAEF,EAAE,IAAIA,EAAE,GAAG+D,EAAE5D,EAAEH,EAAE,IAAIA,EAAE,GAAG+D,EAAE3D,EAAEJ,EAAE,IAAIA,EAAE,GAAG+D,EAAE1D,EAAEL,EAAE,IAAIA,CAAC,CAAC,SAASqD,EAAEtD,EAAEC,EAAEC,EAAEC,GAAOC,IAAAA,EAAE,MAAMC,EAAE,IAAIJ,EAAE,KAAK,GAAG,GAAGM,EAAEN,EAAEC,EAAE,KAAKF,EAAErD,QAAQ0D,GAAGL,EAAEU,KAAK,GAAOV,IAAAA,EAAEC,IAAI,IAAI,KAAK,GAAGA,EAAE,GAAGD,EAAEK,GAAG,WAAWE,EAAEP,EAAEK,EAAE,GAAGE,EAAED,EAAE,EAAEF,EAAE,EAAEA,EAAEJ,EAAErD,OAAOyD,GAAG,GAAGD,EAAEkD,EAAErD,EAAEgD,MAAM5C,EAAEA,EAAE,IAAID,GAAUA,OAAAA,CAAC,CAAK,IAAAoD,EAAE,cAAclC,EAAE,WAAAhH,CAAY2F,EAAEC,EAAEC,GAAG,GAAG,UAAUF,EAAQ,MAAA,IAAI5F,MAAMyG,GAASb,MAAAA,EAAEC,EAAEC,GAASC,MAAAA,EAAED,GAAG,CAAA,EAAQ1F,KAAAkJ,GAAE,EAAGlJ,KAAK6I,EAAE7I,KAAKqJ,EAAErJ,KAAK4I,GAAK,EAAA5I,KAAKqI,EAAEzC,EAAE5F,KAAKwF,EAAExF,KAAK4F,EAAE5F,KAAK4I,GAAG5I,KAAKuI,EAAEM,EAAE7I,KAAK+I,EAAE,SAASvD,GAAG,OAAOA,EAAEgD,OAAO,EAAExI,KAAKgJ,EAAEJ,EAAE5I,KAAK8I,EAAEA,EAAE9I,KAAKsI,EAAE,CAAC,WAAW,WAAW,WAAW,UAAU,YAAYtI,KAAKoI,EAAE,IAAIpI,KAAK0I,EAAE,IAAI1I,KAAK2I,GAAE,EAAGhD,EAAE8D,SAASzJ,KAAKmJ,EAAEvC,EAAE,UAAUjB,EAAE8D,QAAQzJ,KAAK4I,GAAG,GAAG,SAASI,EAAExD,GAAOC,IAAAA,EAASA,OAAAA,EAAE,WAAWD,EAAEQ,EAAEwC,QAAQvC,EAAEuC,QAAQ/C,CAAC,CAAU,SAAAyD,EAAE1D,EAAEC,GAAOC,IAAAA,EAAEC,EAAEC,EAAEC,EAAEC,EAAEE,EAAEC,EAAEI,EAAEI,EAAEC,EAAEC,EAAE,MAAMC,EAAE,GAAG,IAAIlB,EAAED,EAAE,GAAGE,EAAEF,EAAE,GAAGG,EAAEH,EAAE,GAAGI,EAAEJ,EAAE,GAAGK,EAAEL,EAAE,GAAGO,EAAEP,EAAE,GAAGQ,EAAER,EAAE,GAAGY,EAAEZ,EAAE,GAAGkB,EAAE,EAAEA,EAAE,GAAGA,GAAG,EAAEC,EAAED,GAAGA,EAAE,GAAGnB,EAAEmB,GAAG2B,EAAEL,EAAEpB,EAAED,EAAED,EAAE,GAAG,IAAIsB,EAAEpB,EAAE,IAAIyC,EAAEzC,EAAE,IAAID,EAAED,EAAE,GAAG+B,EAAE9B,EAAED,EAAE,KAAKC,EAAED,EAAE,KAAKF,EAAE8B,EAAElC,EAAEsC,EAAE7C,GAAGyD,EAAEzD,EAAEE,EAAEC,GAAGF,EAAEY,GAAGC,EAAED,IAAID,EAAE8C,EAAEnB,EAAE3C,GAAG0C,EAAE1C,EAAEC,EAAEC,IAAIS,EAAEJ,EAAEA,EAAED,EAAEA,EAAEF,EAAEA,EAAE0D,EAAE3D,EAAEY,GAAGZ,EAAED,EAAEA,EAAED,EAAEA,EAAED,EAAEA,EAAE8D,EAAE/C,EAAEC,GAAOG,IAAAA,EAAE,OAAOpB,EAAE,GAAG+D,EAAE9D,EAAED,EAAE,IAAIA,EAAE,GAAG+D,EAAE7D,EAAEF,EAAE,IAAIA,EAAE,GAAG+D,EAAE5D,EAAEH,EAAE,IAAIA,EAAE,GAAG+D,EAAE3D,EAAEJ,EAAE,IAAIA,EAAE,GAAG+D,EAAE1D,EAAEL,EAAE,IAAIA,EAAE,GAAG+D,EAAExD,EAAEP,EAAE,IAAIA,EAAE,GAAG+D,EAAEvD,EAAER,EAAE,IAAIA,EAAE,GAAG+D,EAAEnD,EAAEZ,EAAE,IAAIA,CAAC,CAAK,IAAA0D,EAAE,cAActC,EAAE,WAAAhH,CAAY2F,EAAEC,EAAEC,GAAM,GAAA,YAAYF,GAAG,YAAYA,EAAQ,MAAA,IAAI5F,MAAMyG,GAASb,MAAAA,EAAEC,EAAEC,GAASC,MAAAA,EAAED,GAAG,GAAQ1F,KAAA6I,EAAE7I,KAAKqJ,EAAErJ,KAAKkJ,GAAE,EAAGlJ,KAAK4I,GAAK,EAAA5I,KAAKqI,EAAEzC,EAAE5F,KAAKwF,EAAExF,KAAK4F,EAAE5F,KAAK4I,GAAG5I,KAAKuI,EAAEW,EAAElJ,KAAK+I,EAAE,SAASvD,GAAG,OAAOA,EAAEgD,OAAO,EAAExI,KAAKgJ,EAAEA,EAAEhJ,KAAK8I,EAAE,SAASrD,EAAEC,EAAEC,EAAEC,GAAG,OAAO,SAASJ,EAAEC,EAAEC,EAAEC,EAAEC,GAAG,IAAIC,EAAEE,EAAE,MAAMC,EAAE,IAAIP,EAAE,KAAK,GAAG,GAAGQ,EAAER,EAAEC,EAAE,KAAKF,EAAErD,QAAQ6D,GAAGR,EAAEU,KAAK,GAAOV,IAAAA,EAAEC,IAAI,IAAI,KAAK,GAAGA,EAAE,GAAGD,EAAEQ,GAAG,WAAWC,EAAET,EAAEQ,EAAE,GAAGC,EAAEH,EAAE,EAAED,EAAE,EAAEA,EAAEL,EAAErD,OAAO0D,GAAG,GAAGF,EAAEuD,EAAE1D,EAAEgD,MAAM3C,EAAEA,EAAE,IAAIF,GAAUI,OAAAA,EAAE,YAAYH,EAAE,CAACD,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAIA,EAAEI,CAAC,CAA5P,CAA8PN,EAAEC,EAAEC,EAAEC,EAAEJ,EAAE,EAAExF,KAAKsI,EAAEU,EAAExD,GAAGxF,KAAKoI,EAAE,IAAIpI,KAAK0I,EAAE,YAAYlD,EAAE,IAAI,IAAIxF,KAAK2I,GAAE,EAAGhD,EAAE8D,SAASzJ,KAAKmJ,EAAEvC,EAAE,UAAUjB,EAAE8D,QAAQzJ,KAAK4I,GAAG,GAAG,MAAMS,EAAE,WAAAxJ,CAAY2F,EAAEC,GAAQzF,KAAA0J,EAAElE,EAAExF,KAAK2J,EAAElE,CAAC,EAAW,SAAAiE,EAAElE,EAAEC,GAAOC,IAAAA,EAAE,OAAOD,EAAE,IAAIC,EAAE,GAAGD,EAAE,IAAI4D,EAAE7D,EAAEmE,GAAGlE,EAAED,EAAEkE,IAAIhE,EAAEF,EAAEkE,GAAGjE,EAAED,EAAEmE,IAAIjE,IAAI,IAAID,GAAGC,EAAE,GAAGD,EAAE,IAAI4D,EAAE7D,EAAEkE,GAAGjE,EAAED,EAAEmE,IAAIjE,EAAEF,EAAEmE,GAAGlE,EAAED,EAAEkE,IAAIhE,IAAIF,CAAC,CAAU,SAAAmE,EAAEnE,EAAEC,GAAOC,IAAAA,EAAE,OAAOD,EAAE,IAAIC,EAAE,GAAGD,EAAE,IAAI4D,EAAE7D,EAAEkE,IAAIjE,EAAED,EAAEmE,GAAGjE,EAAEF,EAAEmE,IAAIlE,EAAED,EAAEkE,GAAGhE,KAAKA,EAAE,GAAGD,EAAE,IAAI4D,EAAE7D,EAAEmE,IAAIlE,EAAED,EAAEkE,GAAGhE,EAAEF,EAAEkE,IAAIjE,EAAED,EAAEmE,GAAGjE,GAAG,CAAU,SAAAkE,EAAEpE,EAAEC,GAAU,OAAA,IAAI4D,EAAE7D,EAAEkE,IAAIjE,EAAED,EAAEmE,IAAIlE,EAAED,EAAEkE,GAAG,GAAGjE,EAAE,CAAU,SAAAoE,EAAErE,EAAEC,EAAEC,GAAU,OAAA,IAAI2D,EAAE7D,EAAEkE,EAAEjE,EAAEiE,EAAElE,EAAEkE,EAAEhE,EAAEgE,EAAEjE,EAAEiE,EAAEhE,EAAEgE,EAAElE,EAAEmE,EAAElE,EAAEkE,EAAEnE,EAAEmE,EAAEjE,EAAEiE,EAAElE,EAAEkE,EAAEjE,EAAEiE,EAAE,CAAC,SAASG,EAAEtE,GAAG,MAAMC,EAAEkE,EAAEnE,EAAE,IAAIE,EAAEiE,EAAEnE,EAAE,IAAIG,EAAEgE,EAAEnE,EAAE,IAAI,OAAO,IAAI6D,EAAE5D,EAAEiE,EAAEhE,EAAEgE,EAAE/D,EAAE+D,EAAEjE,EAAEkE,EAAEjE,EAAEiE,EAAEhE,EAAEgE,EAAE,CAAU,SAAAI,EAAEvE,EAAEC,GAAG,IAAIC,EAAEC,EAAED,GAAG,MAAMF,EAAEmE,IAAI,MAAMlE,EAAEkE,GAAGhE,GAAGH,EAAEmE,IAAI,KAAKlE,EAAEkE,IAAI,KAAKjE,IAAI,IAAI,MAAME,GAAG,MAAMD,IAAI,GAAG,MAAMD,EAAsE,OAApEA,GAAG,MAAMF,EAAEkE,IAAI,MAAMjE,EAAEiE,IAAI/D,IAAI,IAAIA,GAAGH,EAAEkE,IAAI,KAAKjE,EAAEiE,IAAI,KAAKhE,IAAI,IAAW,IAAI2D,GAAG,MAAM1D,IAAI,GAAG,MAAMD,EAAEE,EAAE,CAAC,SAASoE,EAAExE,EAAEC,EAAEC,EAAEC,GAAG,IAAIC,EAAEC,EAAED,GAAG,MAAMJ,EAAEmE,IAAI,MAAMlE,EAAEkE,IAAI,MAAMjE,EAAEiE,IAAI,MAAMhE,EAAEgE,GAAG9D,GAAGL,EAAEmE,IAAI,KAAKlE,EAAEkE,IAAI,KAAKjE,EAAEiE,IAAI,KAAKhE,EAAEgE,IAAI,KAAK/D,IAAI,IAAI,MAAME,GAAG,MAAMD,IAAI,GAAG,MAAMD,EAAoH,OAAlHA,GAAG,MAAMJ,EAAEkE,IAAI,MAAMjE,EAAEiE,IAAI,MAAMhE,EAAEgE,IAAI,MAAM/D,EAAE+D,IAAI7D,IAAI,IAAIA,GAAGL,EAAEkE,IAAI,KAAKjE,EAAEiE,IAAI,KAAKhE,EAAEgE,IAAI,KAAK/D,EAAE+D,IAAI,KAAK9D,IAAI,IAAW,IAAIyD,GAAG,MAAMxD,IAAI,GAAG,MAAMD,EAAEE,EAAE,CAAC,SAASmE,EAAEzE,EAAEC,EAAEC,EAAEC,EAAEC,GAAG,IAAIC,EAAEC,EAAED,GAAG,MAAML,EAAEmE,IAAI,MAAMlE,EAAEkE,IAAI,MAAMjE,EAAEiE,IAAI,MAAMhE,EAAEgE,IAAI,MAAM/D,EAAE+D,GAAG7D,GAAGN,EAAEmE,IAAI,KAAKlE,EAAEkE,IAAI,KAAKjE,EAAEiE,IAAI,KAAKhE,EAAEgE,IAAI,KAAK/D,EAAE+D,IAAI,KAAK9D,IAAI,IAAI,MAAME,GAAG,MAAMD,IAAI,GAAG,MAAMD,EAA2I,OAAzIA,GAAG,MAAML,EAAEkE,IAAI,MAAMjE,EAAEiE,IAAI,MAAMhE,EAAEgE,IAAI,MAAM/D,EAAE+D,IAAI,MAAM9D,EAAE8D,IAAI5D,IAAI,IAAIA,GAAGN,EAAEkE,IAAI,KAAKjE,EAAEiE,IAAI,KAAKhE,EAAEgE,IAAI,KAAK/D,EAAE+D,IAAI,KAAK9D,EAAE8D,IAAI,KAAK7D,IAAI,IAAW,IAAIwD,GAAG,MAAMvD,IAAI,GAAG,MAAMD,EAAEE,EAAE,CAAU,SAAAmE,EAAE1E,EAAEC,GAAU,OAAA,IAAI4D,EAAE7D,EAAEkE,EAAEjE,EAAEiE,EAAElE,EAAEmE,EAAElE,EAAEkE,EAAE,CAAC,SAASQ,EAAE3E,GAAG,MAAMC,EAAEkE,EAAEnE,EAAE,IAAIE,EAAEiE,EAAEnE,EAAE,IAAIG,EAAEiE,EAAEpE,EAAE,GAAG,OAAO,IAAI6D,EAAE5D,EAAEiE,EAAEhE,EAAEgE,EAAE/D,EAAE+D,EAAEjE,EAAEkE,EAAEjE,EAAEiE,EAAEhE,EAAEgE,EAAE,CAAC,SAASS,EAAE5E,GAAG,MAAMC,EAAEkE,EAAEnE,EAAE,GAAGE,EAAEiE,EAAEnE,EAAE,GAAGG,EAAEiE,EAAEpE,EAAE,GAAG,OAAO,IAAI6D,EAAE5D,EAAEiE,EAAEhE,EAAEgE,EAAE/D,EAAE+D,EAAEjE,EAAEkE,EAAEjE,EAAEiE,EAAEhE,EAAEgE,EAAE,CAAC,SAASU,GAAE7E,GAAG,MAAMC,EAAEkE,EAAEnE,EAAE,IAAIE,EAAEiE,EAAEnE,EAAE,IAAIG,EAAEgE,EAAEnE,EAAE,IAAI,OAAO,IAAI6D,EAAE5D,EAAEiE,EAAEhE,EAAEgE,EAAE/D,EAAE+D,EAAEjE,EAAEkE,EAAEjE,EAAEiE,EAAEhE,EAAEgE,EAAE,CAAC,MAAMW,GAAE,CAAC,IAAIjB,EAAEtD,EAAE,GAAG,YAAY,IAAIsD,EAAEtD,EAAE,GAAG,WAAW,IAAIsD,EAAEtD,EAAE,GAAG,YAAY,IAAIsD,EAAEtD,EAAE,GAAG,YAAY,IAAIsD,EAAEtD,EAAE,GAAG,YAAY,IAAIsD,EAAEtD,EAAE,GAAG,YAAY,IAAIsD,EAAEtD,EAAE,GAAG,YAAY,IAAIsD,EAAEtD,EAAE,GAAG,YAAY,IAAIsD,EAAEtD,EAAE,GAAG,YAAY,IAAIsD,EAAEtD,EAAE,GAAG,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,WAAW,IAAIsD,EAAEtD,EAAE,IAAI,WAAW,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,WAAW,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,WAAW,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,WAAW,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,WAAW,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,WAAW,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,WAAW,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD,EAAEtD,EAAE,IAAI,YAAY,IAAIsD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","x_google_ignoreList":[2]}