!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).buckyos={})}(this,(function(t){"use strict";class e extends Error{constructor(t){super(t),this.name="RPCError"}}const n="undefined"!=typeof window&&"function"==typeof window.fetch,s="undefined"!=typeof globalThis&&"function"==typeof globalThis.fetch,i=n?window.fetch.bind(window):s?globalThis.fetch.bind(globalThis):async()=>{throw new e("fetch is not available in this runtime")};class r{constructor(t,e=null,n=null,s=i){this.serverUrl=t,this.protocolType="HttpPostJson",this.seq=n??Date.now(),this.sessionToken=e||null,this.initToken=e||null,this.fetcher=s}async call(t,e){return this._call(t,e)}setSeq(t){this.seq=t}resetSessionToken(){this.sessionToken=this.initToken}setSessionToken(t){this.sessionToken=t}getSessionToken(){return this.sessionToken}buildRequest(t,e,n){return{method:t,params:e,sys:this.sessionToken?[n,this.sessionToken]:[n]}}parseSys(t,n){if(null==t)return null;if(!Array.isArray(t))throw new e("sys is not array");if(t.length<1)throw new e("sys is empty");const s=t[0];if("number"!=typeof s)throw new e("sys[0] is not number");if(s!==n)throw new e(`seq not match: ${s}!=${n}`);if(t.length>=2){const n=t[1];if("string"!=typeof n)throw new e("sys[1] is not string");return n}return null}async _call(t,n){const s=this.seq;this.seq+=1;const i=this.buildRequest(t,n,s);try{const t=await this.fetcher(this.serverUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!t.ok)throw new e(`RPC call error: ${t.status}`);const n=await t.json(),r=this.parseSys(n.sys,s);if(r&&(this.sessionToken=r),"error"in n&&n.error)throw new e(`RPC call error: ${n.error}`);if(!("result"in n)||void 0===n.result)throw new e("RPC response missing result");return n.result}catch(r){if(r instanceof e)throw r;const t=r instanceof Error?r.message:String(r);throw new e(`RPC call failed: ${t}`)}}}class o{constructor(t,e){this.zone_hostname=t,this.clientId=e,this.authWindow=null}async login(t=null){try{const e=await this._openAuthWindow(t);return JSON.parse(e)}catch(e){const t=e instanceof Error?e.message:String(e??"Login failed");throw new Error(t)}}async request(t,e){}async _openAuthWindow(t=null){return new Promise(((e,n)=>{const s=window.screen.width/2-250,i=window.screen.height/2-300;let r=window.location.protocol+"//sys."+this.zone_hostname+"/login.html";const o=t??window.location.href,a=`${r}?client_id=${this.clientId}&redirect_uri=${encodeURIComponent(o)}&response_type=token`;alert(a),this.authWindow=window.open(a,"BuckyOS Login",`width=500,height=600,top=${i},left=${s}`),window.addEventListener("message",(t=>{if(console.log("message event",t),t.origin!==new URL(r).origin)return;const{token:s,error:i}=t.data;s?e(s):n(i||"BuckyOSLogin failed"),this.authWindow&&this.authWindow.close()}),!1)}))}}const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="ARRAYBUFFER not supported by this environment",c="UINT8ARRAY not supported by this environment";function l(t,e,n,s){let i,r,o;const a=e||[0],u=(n=n||0)>>>3,c=-1===s?3:0;for(i=0;i<t.length;i+=1)o=i+u,r=o>>>2,a.length<=r&&a.push(0),a[r]|=t[i]<<8*(c+s*(o%4));return{value:a,binLen:8*t.length+n}}function h(t,e,n){switch(e){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(t){case"HEX":return function(t,e,s){return function(t,e,n,s){let i,r,o,a;if(0!=t.length%2)throw new Error("String of HEX type must be in byte increments");const u=e||[0],c=(n=n||0)>>>3,l=-1===s?3:0;for(i=0;i<t.length;i+=2){if(r=parseInt(t.substr(i,2),16),isNaN(r))throw new Error("String of HEX type contains invalid characters");for(a=(i>>>1)+c,o=a>>>2;u.length<=o;)u.push(0);u[o]|=r<<8*(l+s*(a%4))}return{value:u,binLen:4*t.length+n}}(t,e,s,n)};case"TEXT":return function(t,s,i){return function(t,e,n,s,i){let r,o,a,u,c,l,h,w,f=0;const p=n||[0],d=(s=s||0)>>>3;if("UTF8"===e)for(h=-1===i?3:0,a=0;a<t.length;a+=1)for(r=t.charCodeAt(a),o=[],128>r?o.push(r):2048>r?(o.push(192|r>>>6),o.push(128|63&r)):55296>r||57344<=r?o.push(224|r>>>12,128|r>>>6&63,128|63&r):(a+=1,r=65536+((1023&r)<<10|1023&t.charCodeAt(a)),o.push(240|r>>>18,128|r>>>12&63,128|r>>>6&63,128|63&r)),u=0;u<o.length;u+=1){for(l=f+d,c=l>>>2;p.length<=c;)p.push(0);p[c]|=o[u]<<8*(h+i*(l%4)),f+=1}else for(h=-1===i?2:0,w="UTF16LE"===e&&1!==i||"UTF16LE"!==e&&1===i,a=0;a<t.length;a+=1){for(r=t.charCodeAt(a),!0===w&&(u=255&r,r=u<<8|r>>>8),l=f+d,c=l>>>2;p.length<=c;)p.push(0);p[c]|=r<<8*(h+i*(l%4)),f+=2}return{value:p,binLen:8*f+s}}(t,e,s,i,n)};case"B64":return function(t,e,s){return function(t,e,n,s){let i,r,o,u,c,l,h,w=0;const f=e||[0],p=(n=n||0)>>>3,d=-1===s?3:0,g=t.indexOf("=");if(-1===t.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(t=t.replace(/=/g,""),-1!==g&&g<t.length)throw new Error("Invalid '=' found in base-64 string");for(r=0;r<t.length;r+=4){for(c=t.substr(r,4),u=0,o=0;o<c.length;o+=1)i=a.indexOf(c.charAt(o)),u|=i<<18-6*o;for(o=0;o<c.length-1;o+=1){for(h=w+p,l=h>>>2;f.length<=l;)f.push(0);f[l]|=(u>>>16-8*o&255)<<8*(d+s*(h%4)),w+=1}}return{value:f,binLen:8*w+n}}(t,e,s,n)};case"BYTES":return function(t,e,s){return function(t,e,n,s){let i,r,o,a;const u=e||[0],c=(n=n||0)>>>3,l=-1===s?3:0;for(r=0;r<t.length;r+=1)i=t.charCodeAt(r),a=r+c,o=a>>>2,u.length<=o&&u.push(0),u[o]|=i<<8*(l+s*(a%4));return{value:u,binLen:8*t.length+n}}(t,e,s,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(s){throw new Error(u)}return function(t,e,s){return i=e,r=s,o=n,l(new Uint8Array(t),i,r,o);var i,r,o};case"UINT8ARRAY":try{new Uint8Array(0)}catch(s){throw new Error(c)}return function(t,e,s){return l(t,e,s,n)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function w(t,e,n,s){switch(t){case"HEX":return function(t){return function(t,e,n,s){const i="0123456789abcdef";let r,o,a="";const u=e/8,c=-1===n?3:0;for(r=0;r<u;r+=1)o=t[r>>>2]>>>8*(c+n*(r%4)),a+=i.charAt(o>>>4&15)+i.charAt(15&o);return s.outputUpper?a.toUpperCase():a}(t,e,n,s)};case"B64":return function(t){return function(t,e,n,s){let i,r,o,u,c,l="";const h=e/8,w=-1===n?3:0;for(i=0;i<h;i+=3)for(u=i+1<h?t[i+1>>>2]:0,c=i+2<h?t[i+2>>>2]:0,o=(t[i>>>2]>>>8*(w+n*(i%4))&255)<<16|(u>>>8*(w+n*((i+1)%4))&255)<<8|c>>>8*(w+n*((i+2)%4))&255,r=0;r<4;r+=1)l+=8*i+6*r<=e?a.charAt(o>>>6*(3-r)&63):s.b64Pad;return l}(t,e,n,s)};case"BYTES":return function(t){return function(t,e,n){let s,i,r="";const o=e/8,a=-1===n?3:0;for(s=0;s<o;s+=1)i=t[s>>>2]>>>8*(a+n*(s%4))&255,r+=String.fromCharCode(i);return r}(t,e,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(i){throw new Error(u)}return function(t){return function(t,e,n){let s;const i=e/8,r=new ArrayBuffer(i),o=new Uint8Array(r),a=-1===n?3:0;for(s=0;s<i;s+=1)o[s]=t[s>>>2]>>>8*(a+n*(s%4))&255;return r}(t,e,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(i){throw new Error(c)}return function(t){return function(t,e,n){let s;const i=e/8,r=-1===n?3:0,o=new Uint8Array(i);for(s=0;s<i;s+=1)o[s]=t[s>>>2]>>>8*(r+n*(s%4))&255;return o}(t,e,n)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const f=4294967296,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],g=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],k="Chosen SHA variant is not supported",y="Cannot set numRounds with MAC";function m(t,e){let n,s;const i=t.binLen>>>3,r=e.binLen>>>3,o=i<<3,a=4-i<<3;if(i%4!=0){for(n=0;n<r;n+=4)s=i+n>>>2,t.value[s]|=e.value[n>>>2]<<o,t.value.push(0),t.value[s+1]|=e.value[n>>>2]>>>a;return(t.value.length<<2)-4>=r+i&&t.value.pop(),{value:t.value,binLen:t.binLen+e.binLen}}return{value:t.value.concat(e.value),binLen:t.binLen+e.binLen}}function S(t){const e={outputUpper:!1,b64Pad:"=",outputLen:-1},n=t||{},s="Output length must be a multiple of 8";if(e.outputUpper=n.outputUpper||!1,n.b64Pad&&(e.b64Pad=n.b64Pad),n.outputLen){if(n.outputLen%8!=0)throw new Error(s);e.outputLen=n.outputLen}else if(n.shakeLen){if(n.shakeLen%8!=0)throw new Error(s);e.outputLen=n.shakeLen}if("boolean"!=typeof e.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof e.b64Pad)throw new Error("Invalid b64Pad formatting option");return e}function _(t,e,n,s){const i=t+" must include a value and format";if(!e){if(!s)throw new Error(i);return s}if(void 0===e.value||!e.format)throw new Error(i);return h(e.format,e.encoding||"UTF8",n)(e.value)}class A{constructor(t,e,n){const s=n||{};if(this.t=e,this.i=s.encoding||"UTF8",this.numRounds=s.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=t,this.h=[],this.u=0,this.l=!1,this.A=0,this.H=!1,this.S=[],this.p=[]}update(t){let e,n=0;const s=this.m>>>5,i=this.C(t,this.h,this.u),r=i.binLen,o=i.value,a=r>>>5;for(e=0;e<a;e+=s)n+this.m<=r&&(this.U=this.v(o.slice(e,e+s),this.U),n+=this.m);return this.A+=n,this.h=o.slice(n>>>5),this.u=r%this.m,this.l=!0,this}getHash(t,e){let n,s,i=this.R;const r=S(e);if(this.K){if(-1===r.outputLen)throw new Error("Output length must be specified in options");i=r.outputLen}const o=w(t,i,this.T,r);if(this.H&&this.g)return o(this.g(r));for(s=this.F(this.h.slice(),this.u,this.A,this.L(this.U),i),n=1;n<this.numRounds;n+=1)this.K&&i%32!=0&&(s[s.length-1]&=16777215>>>24-i%32),s=this.F(s,i,0,this.B(this.o),i);return o(s)}setHMACKey(t,e,n){if(!this.M)throw new Error("Variant does not support HMAC");if(this.l)throw new Error("Cannot set MAC key after calling update");const s=h(e,(n||{}).encoding||"UTF8",this.T);this.k(s(t))}k(t){const e=this.m>>>3,n=e/4-1;let s;if(1!==this.numRounds)throw new Error(y);if(this.H)throw new Error("MAC key already set");for(e<t.binLen/8&&(t.value=this.F(t.value,t.binLen,0,this.B(this.o),this.R));t.value.length<=n;)t.value.push(0);for(s=0;s<=n;s+=1)this.S[s]=909522486^t.value[s],this.p[s]=1549556828^t.value[s];this.U=this.v(this.S,this.U),this.A=this.m,this.H=!0}getHMAC(t,e){const n=S(e);return w(t,this.R,this.T,n)(this.Y())}Y(){let t;if(!this.H)throw new Error("Cannot call getHMAC without first setting MAC key");const e=this.F(this.h.slice(),this.u,this.A,this.L(this.U),this.R);return t=this.v(this.p,this.B(this.o)),t=this.F(e,this.R,this.m,t,this.R),t}}function I(t,e){return t<<e|t>>>32-e}function T(t,e){return t>>>e|t<<32-e}function b(t,e){return t>>>e}function C(t,e,n){return t^e^n}function v(t,e,n){return t&e^~t&n}function N(t,e,n){return t&e^t&n^e&n}function E(t){return T(t,2)^T(t,13)^T(t,22)}function R(t,e){const n=(65535&t)+(65535&e);return(65535&(t>>>16)+(e>>>16)+(n>>>16))<<16|65535&n}function B(t,e,n,s){const i=(65535&t)+(65535&e)+(65535&n)+(65535&s);return(65535&(t>>>16)+(e>>>16)+(n>>>16)+(s>>>16)+(i>>>16))<<16|65535&i}function H(t,e,n,s,i){const r=(65535&t)+(65535&e)+(65535&n)+(65535&s)+(65535&i);return(65535&(t>>>16)+(e>>>16)+(n>>>16)+(s>>>16)+(i>>>16)+(r>>>16))<<16|65535&r}function U(t){return T(t,7)^T(t,18)^b(t,3)}function K(t){return T(t,6)^T(t,11)^T(t,25)}function L(t){return[1732584193,4023233417,2562383102,271733878,3285377520]}function O(t,e){let n,s,i,r,o,a,u;const c=[];for(n=e[0],s=e[1],i=e[2],r=e[3],o=e[4],u=0;u<80;u+=1)c[u]=u<16?t[u]:I(c[u-3]^c[u-8]^c[u-14]^c[u-16],1),a=u<20?H(I(n,5),v(s,i,r),o,1518500249,c[u]):u<40?H(I(n,5),C(s,i,r),o,1859775393,c[u]):u<60?H(I(n,5),N(s,i,r),o,2400959708,c[u]):H(I(n,5),C(s,i,r),o,3395469782,c[u]),o=r,r=i,i=I(s,30),s=n,n=a;return e[0]=R(n,e[0]),e[1]=R(s,e[1]),e[2]=R(i,e[2]),e[3]=R(r,e[3]),e[4]=R(o,e[4]),e}function W(t,e,n,s){let i;const r=15+(e+65>>>9<<4),o=e+n;for(;t.length<=r;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[r]=4294967295&o,t[r-1]=o/f|0,i=0;i<t.length;i+=16)s=O(t.slice(i,i+16),s);return s}let F=class extends A{constructor(t,e,n){if("SHA-1"!==t)throw new Error(k);super(t,e,n);const s=n||{};this.M=!0,this.g=this.Y,this.T=-1,this.C=h(this.t,this.i,this.T),this.v=O,this.L=function(t){return t.slice()},this.B=L,this.F=W,this.U=[1732584193,4023233417,2562383102,271733878,3285377520],this.m=512,this.R=160,this.K=!1,s.hmacKey&&this.k(_("hmacKey",s.hmacKey,this.T))}};function P(t){let e;return e="SHA-224"==t?d.slice():g.slice(),e}function M(t,e){let n,s,i,r,o,a,u,c,l,h,w;const f=[];for(n=e[0],s=e[1],i=e[2],r=e[3],o=e[4],a=e[5],u=e[6],c=e[7],w=0;w<64;w+=1)f[w]=w<16?t[w]:B(T(d=f[w-2],17)^T(d,19)^b(d,10),f[w-7],U(f[w-15]),f[w-16]),l=H(c,K(o),v(o,a,u),p[w],f[w]),h=R(E(n),N(n,s,i)),c=u,u=a,a=o,o=R(r,l),r=i,i=s,s=n,n=R(l,h);var d;return e[0]=R(n,e[0]),e[1]=R(s,e[1]),e[2]=R(i,e[2]),e[3]=R(r,e[3]),e[4]=R(o,e[4]),e[5]=R(a,e[5]),e[6]=R(u,e[6]),e[7]=R(c,e[7]),e}let z=class extends A{constructor(t,e,n){if("SHA-224"!==t&&"SHA-256"!==t)throw new Error(k);super(t,e,n);const s=n||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=h(this.t,this.i,this.T),this.v=M,this.L=function(t){return t.slice()},this.B=P,this.F=function(e,n,s,i){return function(t,e,n,s,i){let r,o;const a=15+(e+65>>>9<<4),u=e+n;for(;t.length<=a;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[a]=4294967295&u,t[a-1]=u/f|0,r=0;r<t.length;r+=16)s=M(t.slice(r,r+16),s);return o="SHA-224"===i?[s[0],s[1],s[2],s[3],s[4],s[5],s[6]]:s,o}(e,n,s,i,t)},this.U=P(t),this.m=512,this.R="SHA-224"===t?224:256,this.K=!1,s.hmacKey&&this.k(_("hmacKey",s.hmacKey,this.T))}};class D{constructor(t,e){this.N=t,this.I=e}}function Y(t,e){let n;return e>32?(n=64-e,new D(t.I<<e|t.N>>>n,t.N<<e|t.I>>>n)):0!==e?(n=32-e,new D(t.N<<e|t.I>>>n,t.I<<e|t.N>>>n)):t}function $(t,e){let n;return e<32?(n=32-e,new D(t.N>>>e|t.I<<n,t.I>>>e|t.N<<n)):(n=64-e,new D(t.I>>>e|t.N<<n,t.N>>>e|t.I<<n))}function x(t,e){return new D(t.N>>>e,t.I>>>e|t.N<<32-e)}function q(t,e,n){return new D(t.N&e.N^t.N&n.N^e.N&n.N,t.I&e.I^t.I&n.I^e.I&n.I)}function j(t){const e=$(t,28),n=$(t,34),s=$(t,39);return new D(e.N^n.N^s.N,e.I^n.I^s.I)}function X(t,e){let n,s;n=(65535&t.I)+(65535&e.I),s=(t.I>>>16)+(e.I>>>16)+(n>>>16);const i=(65535&s)<<16|65535&n;return n=(65535&t.N)+(65535&e.N)+(s>>>16),s=(t.N>>>16)+(e.N>>>16)+(n>>>16),new D((65535&s)<<16|65535&n,i)}function J(t,e,n,s){let i,r;i=(65535&t.I)+(65535&e.I)+(65535&n.I)+(65535&s.I),r=(t.I>>>16)+(e.I>>>16)+(n.I>>>16)+(s.I>>>16)+(i>>>16);const o=(65535&r)<<16|65535&i;return i=(65535&t.N)+(65535&e.N)+(65535&n.N)+(65535&s.N)+(r>>>16),r=(t.N>>>16)+(e.N>>>16)+(n.N>>>16)+(s.N>>>16)+(i>>>16),new D((65535&r)<<16|65535&i,o)}function V(t,e,n,s,i){let r,o;r=(65535&t.I)+(65535&e.I)+(65535&n.I)+(65535&s.I)+(65535&i.I),o=(t.I>>>16)+(e.I>>>16)+(n.I>>>16)+(s.I>>>16)+(i.I>>>16)+(r>>>16);const a=(65535&o)<<16|65535&r;return r=(65535&t.N)+(65535&e.N)+(65535&n.N)+(65535&s.N)+(65535&i.N)+(o>>>16),o=(t.N>>>16)+(e.N>>>16)+(n.N>>>16)+(s.N>>>16)+(i.N>>>16)+(r>>>16),new D((65535&o)<<16|65535&r,a)}function Z(t,e){return new D(t.N^e.N,t.I^e.I)}function G(t){const e=$(t,19),n=$(t,61),s=x(t,6);return new D(e.N^n.N^s.N,e.I^n.I^s.I)}function Q(t){const e=$(t,1),n=$(t,8),s=x(t,7);return new D(e.N^n.N^s.N,e.I^n.I^s.I)}function tt(t){const e=$(t,14),n=$(t,18),s=$(t,41);return new D(e.N^n.N^s.N,e.I^n.I^s.I)}const et=[new D(p[0],3609767458),new D(p[1],602891725),new D(p[2],3964484399),new D(p[3],2173295548),new D(p[4],4081628472),new D(p[5],3053834265),new D(p[6],2937671579),new D(p[7],3664609560),new D(p[8],2734883394),new D(p[9],1164996542),new D(p[10],1323610764),new D(p[11],3590304994),new D(p[12],4068182383),new D(p[13],991336113),new D(p[14],633803317),new D(p[15],3479774868),new D(p[16],2666613458),new D(p[17],944711139),new D(p[18],2341262773),new D(p[19],2007800933),new D(p[20],1495990901),new D(p[21],1856431235),new D(p[22],3175218132),new D(p[23],2198950837),new D(p[24],3999719339),new D(p[25],766784016),new D(p[26],2566594879),new D(p[27],3203337956),new D(p[28],1034457026),new D(p[29],2466948901),new D(p[30],3758326383),new D(p[31],168717936),new D(p[32],1188179964),new D(p[33],1546045734),new D(p[34],1522805485),new D(p[35],2643833823),new D(p[36],2343527390),new D(p[37],1014477480),new D(p[38],1206759142),new D(p[39],344077627),new D(p[40],1290863460),new D(p[41],3158454273),new D(p[42],3505952657),new D(p[43],106217008),new D(p[44],3606008344),new D(p[45],1432725776),new D(p[46],1467031594),new D(p[47],851169720),new D(p[48],3100823752),new D(p[49],1363258195),new D(p[50],3750685593),new D(p[51],3785050280),new D(p[52],3318307427),new D(p[53],3812723403),new D(p[54],2003034995),new D(p[55],3602036899),new D(p[56],1575990012),new D(p[57],1125592928),new D(p[58],2716904306),new D(p[59],442776044),new D(p[60],593698344),new D(p[61],3733110249),new D(p[62],2999351573),new D(p[63],3815920427),new D(3391569614,3928383900),new D(3515267271,566280711),new D(3940187606,3454069534),new D(4118630271,4000239992),new D(116418474,1914138554),new D(174292421,2731055270),new D(289380356,3203993006),new D(460393269,320620315),new D(685471733,587496836),new D(852142971,1086792851),new D(1017036298,365543100),new D(1126000580,2618297676),new D(1288033470,3409855158),new D(1501505948,4234509866),new D(1607167915,987167468),new D(1816402316,1246189591)];function nt(t){return"SHA-384"===t?[new D(3418070365,d[0]),new D(1654270250,d[1]),new D(2438529370,d[2]),new D(355462360,d[3]),new D(1731405415,d[4]),new D(41048885895,d[5]),new D(3675008525,d[6]),new D(1203062813,d[7])]:[new D(g[0],4089235720),new D(g[1],2227873595),new D(g[2],4271175723),new D(g[3],1595750129),new D(g[4],2917565137),new D(g[5],725511199),new D(g[6],4215389547),new D(g[7],327033209)]}function st(t,e){let n,s,i,r,o,a,u,c,l,h,w,f;const p=[];for(n=e[0],s=e[1],i=e[2],r=e[3],o=e[4],a=e[5],u=e[6],c=e[7],w=0;w<80;w+=1)w<16?(f=2*w,p[w]=new D(t[f],t[f+1])):p[w]=J(G(p[w-2]),p[w-7],Q(p[w-15]),p[w-16]),l=V(c,tt(o),(g=a,k=u,new D((d=o).N&g.N^~d.N&k.N,d.I&g.I^~d.I&k.I)),et[w],p[w]),h=X(j(n),q(n,s,i)),c=u,u=a,a=o,o=X(r,l),r=i,i=s,s=n,n=X(l,h);var d,g,k;return e[0]=X(n,e[0]),e[1]=X(s,e[1]),e[2]=X(i,e[2]),e[3]=X(r,e[3]),e[4]=X(o,e[4]),e[5]=X(a,e[5]),e[6]=X(u,e[6]),e[7]=X(c,e[7]),e}let it=class extends A{constructor(t,e,n){if("SHA-384"!==t&&"SHA-512"!==t)throw new Error(k);super(t,e,n);const s=n||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=h(this.t,this.i,this.T),this.v=st,this.L=function(t){return t.slice()},this.B=nt,this.F=function(e,n,s,i){return function(t,e,n,s,i){let r,o;const a=31+(e+129>>>10<<5),u=e+n;for(;t.length<=a;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[a]=4294967295&u,t[a-1]=u/f|0,r=0;r<t.length;r+=32)s=st(t.slice(r,r+32),s);return o="SHA-384"===i?[s[0].N,s[0].I,s[1].N,s[1].I,s[2].N,s[2].I,s[3].N,s[3].I,s[4].N,s[4].I,s[5].N,s[5].I]:[s[0].N,s[0].I,s[1].N,s[1].I,s[2].N,s[2].I,s[3].N,s[3].I,s[4].N,s[4].I,s[5].N,s[5].I,s[6].N,s[6].I,s[7].N,s[7].I],o}(e,n,s,i,t)},this.U=nt(t),this.m=1024,this.R="SHA-384"===t?384:512,this.K=!1,s.hmacKey&&this.k(_("hmacKey",s.hmacKey,this.T))}};const rt=[new D(0,1),new D(0,32898),new D(2147483648,32906),new D(2147483648,2147516416),new D(0,32907),new D(0,2147483649),new D(2147483648,2147516545),new D(2147483648,32777),new D(0,138),new D(0,136),new D(0,2147516425),new D(0,2147483658),new D(0,2147516555),new D(2147483648,139),new D(2147483648,32905),new D(2147483648,32771),new D(2147483648,32770),new D(2147483648,128),new D(0,32778),new D(2147483648,2147483658),new D(2147483648,2147516545),new D(2147483648,32896),new D(0,2147483649),new D(2147483648,2147516424)],ot=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function at(t){let e;const n=[];for(e=0;e<5;e+=1)n[e]=[new D(0,0),new D(0,0),new D(0,0),new D(0,0),new D(0,0)];return n}function ut(t){let e;const n=[];for(e=0;e<5;e+=1)n[e]=t[e].slice();return n}function ct(t,e){let n,s,i,r;const o=[],a=[];if(null!==t)for(s=0;s<t.length;s+=2)e[(s>>>1)%5][(s>>>1)/5|0]=Z(e[(s>>>1)%5][(s>>>1)/5|0],new D(t[s+1],t[s]));for(n=0;n<24;n+=1){for(r=at(),s=0;s<5;s+=1)o[s]=(u=e[s][0],c=e[s][1],l=e[s][2],h=e[s][3],w=e[s][4],new D(u.N^c.N^l.N^h.N^w.N,u.I^c.I^l.I^h.I^w.I));for(s=0;s<5;s+=1)a[s]=Z(o[(s+4)%5],Y(o[(s+1)%5],1));for(s=0;s<5;s+=1)for(i=0;i<5;i+=1)e[s][i]=Z(e[s][i],a[s]);for(s=0;s<5;s+=1)for(i=0;i<5;i+=1)r[i][(2*s+3*i)%5]=Y(e[s][i],ot[s][i]);for(s=0;s<5;s+=1)for(i=0;i<5;i+=1)e[s][i]=Z(r[s][i],new D(~r[(s+1)%5][i].N&r[(s+2)%5][i].N,~r[(s+1)%5][i].I&r[(s+2)%5][i].I));e[0][0]=Z(e[0][0],rt[n])}var u,c,l,h,w;return e}function lt(t){let e,n,s=0;const i=[0,0],r=[4294967295&t,t/f&2097151];for(e=6;e>=0;e--)n=r[e>>2]>>>8*e&255,0===n&&0===s||(i[s+1>>2]|=n<<8*(s+1),s+=1);return s=0!==s?s:1,i[0]|=s,{value:s+1>4?i:[i[0]],binLen:8+8*s}}function ht(t){return m(lt(t.binLen),t)}function wt(t,e){let n,s=lt(e);s=m(s,t);const i=e>>>2,r=(i-s.value.length%i)%i;for(n=0;n<r;n++)s.value.push(0);return s.value}let ft=class extends A{constructor(t,e,n){let s=6,i=0;super(t,e,n);const r=n||{};if(1!==this.numRounds){if(r.kmacKey||r.hmacKey)throw new Error(y);if("CSHAKE128"===this.o||"CSHAKE256"===this.o)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.T=1,this.C=h(this.t,this.i,this.T),this.v=ct,this.L=ut,this.B=at,this.U=at(),this.K=!1,t){case"SHA3-224":this.m=i=1152,this.R=224,this.M=!0,this.g=this.Y;break;case"SHA3-256":this.m=i=1088,this.R=256,this.M=!0,this.g=this.Y;break;case"SHA3-384":this.m=i=832,this.R=384,this.M=!0,this.g=this.Y;break;case"SHA3-512":this.m=i=576,this.R=512,this.M=!0,this.g=this.Y;break;case"SHAKE128":s=31,this.m=i=1344,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"SHAKE256":s=31,this.m=i=1088,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"KMAC128":s=4,this.m=i=1344,this.X(n),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"KMAC256":s=4,this.m=i=1088,this.X(n),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"CSHAKE128":this.m=i=1344,s=this.O(n),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"CSHAKE256":this.m=i=1088,s=this.O(n),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;default:throw new Error(k)}this.F=function(t,e,n,r,o){return function(t,e,n,s,i,r,o){let a,u,c=0;const l=[],h=i>>>5,w=e>>>5;for(a=0;a<w&&e>=i;a+=h)s=ct(t.slice(a,a+h),s),e-=i;for(t=t.slice(a),e%=i;t.length<h;)t.push(0);for(a=e>>>3,t[a>>2]^=r<<a%4*8,t[h-1]^=2147483648,s=ct(t,s);32*l.length<o&&(u=s[c%5][c/5|0],l.push(u.I),!(32*l.length>=o));)l.push(u.N),c+=1,0==64*c%i&&(ct(null,s),c=0);return l}(t,e,0,r,i,s,o)},r.hmacKey&&this.k(_("hmacKey",r.hmacKey,this.T))}O(t,e){const n=function(t){const e=t||{};return{funcName:_("funcName",e.funcName,1,{value:[],binLen:0}),customization:_("Customization",e.customization,1,{value:[],binLen:0})}}(t||{});e&&(n.funcName=e);const s=m(ht(n.funcName),ht(n.customization));if(0!==n.customization.binLen||0!==n.funcName.binLen){const t=wt(s,this.m>>>3);for(let e=0;e<t.length;e+=this.m>>>5)this.U=this.v(t.slice(e,e+(this.m>>>5)),this.U),this.A+=this.m;return 4}return 31}X(t){const e=function(t){const e=t||{};return{kmacKey:_("kmacKey",e.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:_("Customization",e.customization,1,{value:[],binLen:0})}}(t||{});this.O(t,e.funcName);const n=wt(ht(e.kmacKey),this.m>>>3);for(let s=0;s<n.length;s+=this.m>>>5)this.U=this.v(n.slice(s,s+(this.m>>>5)),this.U),this.A+=this.m;this.H=!0}_(t){const e=m({value:this.h.slice(),binLen:this.u},function(t){let e,n,s=0;const i=[0,0],r=[4294967295&t,t/f&2097151];for(e=6;e>=0;e--)n=r[e>>2]>>>8*e&255,0===n&&0===s||(i[s>>2]|=n<<8*s,s+=1);return s=0!==s?s:1,i[s>>2]|=s<<8*s,{value:s+1>4?i:[i[0]],binLen:8+8*s}}(t.outputLen));return this.F(e.value,e.binLen,this.A,this.L(this.U),t.outputLen)}};class pt{constructor(t,e,n){if("SHA-1"==t)this.P=new F(t,e,n);else if("SHA-224"==t||"SHA-256"==t)this.P=new z(t,e,n);else if("SHA-384"==t||"SHA-512"==t)this.P=new it(t,e,n);else{if("SHA3-224"!=t&&"SHA3-256"!=t&&"SHA3-384"!=t&&"SHA3-512"!=t&&"SHAKE128"!=t&&"SHAKE256"!=t&&"CSHAKE128"!=t&&"CSHAKE256"!=t&&"KMAC128"!=t&&"KMAC256"!=t)throw new Error(k);this.P=new ft(t,e,n)}}update(t){return this.P.update(t),this}getHash(t,e){return this.P.getHash(t,e)}setHMACKey(t,e,n){this.P.setHMACKey(t,e,n)}getHMAC(t,e){return this.P.getHMAC(t,e)}}class dt{constructor(t){this.rpcClient=t}setSeq(t){this.rpcClient.setSeq(t)}async loginByJwt(t){this.rpcClient.resetSessionToken();const e={type:"jwt",jwt:t.jwt};return t.login_params&&Object.assign(e,t.login_params),this.rpcClient.call("login_by_jwt",e)}async loginByPassword(t){this.rpcClient.resetSessionToken();const e={type:"password",username:t.username,password:t.password,appid:t.appid};return t.source_url&&(e.source_url=t.source_url),this.rpcClient.call("login_by_password",e)}async refreshToken(t){return this.rpcClient.call("refresh_token",t)}async verifyToken(t){return this.rpcClient.call("verify_token",t)}static normalizeLoginResponse(t){if("user_info"in t)return{user_name:t.user_info.show_name,user_id:t.user_info.user_id,user_type:t.user_info.user_type,session_token:t.session_token,refresh_token:t.refresh_token};if(!t.session_token)throw new e("login_by_password response missing session_token");return t}}function gt(t,e,n=null){const s=new pt("SHA-256","TEXT",{encoding:"UTF8"});s.update(e+t+".buckyos");let i=s.getHash("B64");if(null==n)return i;const r=new pt("SHA-256","TEXT",{encoding:"UTF8"});let o=i+n.toString();return r.update(o),r.getHash("B64")}function kt(t){localStorage.removeItem("buckyos.account_info");let e={path:"/",expires:new Date(0),secure:!0,sameSite:"Lax"};document.cookie=`${t}_token=; ${Object.entries(e).map((([t,e])=>`${t}=${e}`)).join("; ")}`}function yt(t,e){if(null==e.session_token)return void console.error("session_token is null,can't save account info");localStorage.setItem("buckyos.account_info",JSON.stringify(e));let n={path:"/",expires:new Date(Date.now()+2592e6),secure:!0,sameSite:"Lax"};document.cookie=`${t}_token=${e.session_token}; ${Object.entries(n).map((([t,e])=>`${t}=${e}`)).join("; ")}`}function mt(t){switch(t){case"Pending":return"Pending";case"Running":return"Running";case"Paused":return"Paused";case"Completed":return"Completed";case"Failed":return"Failed";case"Canceled":return"Canceled";case"WaitingForApproval":return"WaitingForApproval";default:throw new e(`Invalid task status: ${t}`)}}function St(t){return new Promise((e=>setTimeout(e,t)))}function _t(t){if(!t||"object"!=typeof t||Array.isArray(t))throw new e("Invalid RPC response format");return t}function At(t){const n=_t(t),s=n.id,i=n.status;if("number"!=typeof s)throw new e("Invalid task payload: missing id");if("string"!=typeof i)throw new e("Invalid task payload: missing status");return{...n,status:mt(i)}}function It(t){if(!Array.isArray(t))throw new e("Invalid tasks payload: expected array");return t.map((t=>At(t)))}class Tt{constructor(t){this.rpcClient=t}setSeq(t){this.rpcClient.setSeq(t)}async createTask(t){const n=t.options??{},s={name:t.name,task_type:t.taskType,data:t.data,permissions:n.permissions,parent_id:n.parent_id,priority:n.priority,user_id:t.userId,app_id:t.appId,app_name:t.appId||void 0},i=_t(await this.rpcClient.call("create_task",s));if("task"in i)return At(i.task);const r=i.task_id;if("number"==typeof r)return this.getTask(r);throw new e("Expected CreateTaskResult response")}async getTask(t){const e={id:t},n=await this.rpcClient.call("get_task",e),s=_t(n);return At("task"in s?s.task:n)}async waitForTaskEnd(t){return this.waitForTaskEndWithInterval(t,500)}async waitForTaskEndWithInterval(t,n){if(!Number.isFinite(n)||n<=0)throw new e("pollIntervalMs must be greater than 0");for(;;){const e=await this.getTask(t);if("Completed"===(s=e.status)||"Failed"===s||"Canceled"===s)return e.status;await St(n)}var s}async listTasks(t={}){const n=t.filter??{},s={app_id:n.app_id,task_type:n.task_type,status:n.status,parent_id:n.parent_id,root_id:n.root_id,source_user_id:t.sourceUserId,source_app_id:t.sourceAppId},i=_t(await this.rpcClient.call("list_tasks",s));if("tasks"in i)return It(i.tasks);throw new e("Expected tasks in response")}async listTasksByTimeRange(t){const n={app_id:t.appId,task_type:t.taskType,source_user_id:t.sourceUserId,source_app_id:t.sourceAppId,start_time:t.startTime,end_time:t.endTime},s=_t(await this.rpcClient.call("list_tasks_by_time_range",n));if("tasks"in s)return It(s.tasks);throw new e("Expected tasks in response")}async updateTask(t){const e={id:t.id,status:t.status,progress:t.progress,message:t.message,data:t.data};await this.rpcClient.call("update_task",e)}async cancelTask(t,e=!1){const n={id:t,recursive:e};await this.rpcClient.call("cancel_task",n)}async getSubtasks(t){const n={parent_id:t},s=_t(await this.rpcClient.call("get_subtasks",n));if("tasks"in s)return It(s.tasks);throw new e("Expected tasks in response")}async updateTaskStatus(t,e){const n={id:t,status:e};await this.rpcClient.call("update_task_status",n)}async updateTaskProgress(t,e,n){const s={id:t,completed_items:e,total_items:n};await this.rpcClient.call("update_task_progress",s)}async updateTaskError(t,e){const n={id:t,error_message:e};await this.rpcClient.call("update_task_error",n)}async updateTaskData(t,e){const n={id:t,data:e};await this.rpcClient.call("update_task_data",n)}async deleteTask(t){const e={id:t};await this.rpcClient.call("delete_task",e)}async pauseTask(t){await this.updateTaskStatus(t,"Paused")}async resumeTask(t){await this.updateTaskStatus(t,"Running")}async completeTask(t){await this.updateTaskStatus(t,"Completed")}async markTaskAsWaitingForApproval(t){await this.updateTaskStatus(t,"WaitingForApproval")}async markTaskAsFailed(t,e){await this.updateTaskError(t,e),await this.updateTaskStatus(t,"Failed")}async pauseAllRunningTasks(t={}){const e=await this.listTasks({filter:{status:"Running"},sourceUserId:t.sourceUserId,sourceAppId:t.sourceAppId});for(const n of e)await this.pauseTask(n.id)}async resumeLastPausedTask(t={}){const n=await this.listTasks({filter:{status:"Paused"},sourceUserId:t.sourceUserId,sourceAppId:t.sourceAppId}),s=n[n.length-1];if(!s)throw new e("No paused tasks found");await this.resumeTask(s.id)}}class bt{constructor(t){this.rpcClient=t}setSeq(t){this.rpcClient.setSeq(t)}async listAgents(t={}){const e={status:t.status,include_sub_agents:t.includeSubAgents,limit:t.limit,cursor:t.cursor};return this.rpcClient.call("list_agents",e)}async getAgent(t){const e={agent_id:t};return this.rpcClient.call("get_agent",e)}async getWorkshop(t){const e={agent_id:t};return this.rpcClient.call("get_workshop",e)}async getWorkspace(t){return this.getWorkshop(t)}async listWorkshopWorklogs(t){const e={agent_id:t.agentId,owner_session_id:t.ownerSessionId,log_type:t.logType,status:t.status,step_id:t.stepId,keyword:t.keyword,limit:t.limit,cursor:t.cursor};return this.rpcClient.call("list_workshop_worklogs",e)}async listWorkspaceWorklogs(t){return this.listWorkshopWorklogs(t)}async listWorkshopTodos(t){const e={agent_id:t.agentId,owner_session_id:t.ownerSessionId,status:t.status,include_closed:t.includeClosed,limit:t.limit,cursor:t.cursor};return this.rpcClient.call("list_workshop_todos",e)}async listWorkspaceTodos(t){return this.listWorkshopTodos(t)}async listWorkshopSubAgents(t){const e={agent_id:t.agentId,include_disabled:t.includeDisabled,limit:t.limit,cursor:t.cursor};return this.rpcClient.call("list_workshop_sub_agents",e)}async listWorkspaceSubAgents(t){return this.listWorkshopSubAgents(t)}async listAgentSessions(t){const e={agent_id:t.agentId,limit:t.limit,cursor:t.cursor};return this.rpcClient.call("list_agent_sessions",e)}async getAgentSession(t,e){const n={agent_id:t,session_id:e};return this.rpcClient.call("get_agent_session",n)}async getSessionRecord(t){const e={session_id:t};return this.rpcClient.call("get_session_record",e)}}var Ct=(t=>(t.Browser="Browser",t.NodeJS="NodeJS",t.AppRuntime="AppRuntime",t.Unknown="Unknown",t))(Ct||{});const vt={zoneHost:"",appId:"",defaultProtocol:"http://",runtimeType:"Unknown"};class Nt{constructor(t){this.config=t,this.sessionToken=null,this.refreshToken=null}setConfig(t){this.config=t}getConfig(){return this.config}getAppId(){return this.config.appId}getZoneHostName(){return this.config.zoneHost}getZoneServiceURL(t){return`/kapi/${t}/`}setSessionToken(t){this.sessionToken=t}setRefreshToken(t){this.refreshToken=t}getSessionToken(){return this.sessionToken}getRefreshToken(){return this.refreshToken}getServiceRpcClient(t){return new r(this.getZoneServiceURL(t),this.sessionToken)}getVerifyHubClient(){const t=this.getServiceRpcClient("verify-hub");return new dt(t)}getTaskManagerClient(){const t=this.getServiceRpcClient("task-manager");return new Tt(t)}getOpenDanClient(){const t=this.getServiceRpcClient("opendan");return new bt(t)}}var Et=null,Rt=null;function Bt(){var t;if("undefined"!=typeof window)return window.BuckyApi?Ct.AppRuntime:Ct.Browser;const e=globalThis.process;return(null==(t=null==e?void 0:e.versions)?void 0:t.node)?Ct.NodeJS:Ct.Unknown}function Ht(){return null==Et?(console.error("BuckyOS WebSDK is not initialized,call initBuckyOS first"),null):Et.getZoneHostName()}function Ut(){return Et?Et.getAppId():(console.error("BuckyOS WebSDK is not initialized,call initBuckyOS first"),null)}const Kt={kRPCClient:r,AuthClient:o,initBuckyOS:async function(t,e=null){Et&&console.warn("BuckyOS WebSDK is already initialized!");let n=e;if(!n){n={...vt,appId:t,runtimeType:Bt(),defaultProtocol:window.location.protocol+"//"};let e=localStorage.getItem("zone_host_name");e||(e=await async function(t,e,n){let s=n+e+"/1.0/identifiers/self",i=await fetch(s);if(200==i.status)return e;{let t=e.split(".").slice(1).join(".");if(s=n+t+"/1.0/identifiers/self",i=await fetch(s),200==i.status)return t}return e}(0,window.location.host,n.defaultProtocol),localStorage.setItem("zone_host_name",e)),n.zoneHost=e}Et=new Nt(n)},getBuckyOSConfig:function(){return(null==Et?void 0:Et.getConfig())??null},getRuntimeType:Bt,getAppId:Ut,attachEvent:function(t,e){},removeEvent:function(t){},getAccountInfo:function(){return Rt||null},doLogin:async function(t,e){let n=Kt.getAppId();if(null==n)return console.error("BuckyOS WebSDK is not initialized,call initBuckyOS first"),null;let s=Date.now(),i=gt(t,e,s);console.log("password_hash: ",i),localStorage.removeItem("account_info");try{let e=Kt.getVerifyHubClient();e.setSeq(s);let r=await e.loginByPassword({username:t,password:i,appid:n,source_url:window.location.href});const o=dt.normalizeLoginResponse(r),a={user_name:o.user_name,user_id:o.user_id,user_type:o.user_type,session_token:o.session_token};return yt(n,a),a}catch(r){throw console.error("login failed: ",r),r}},login:async function(t=!0){if(null==Et)return console.error("BuckyOS WebSDK is not initialized,call initBuckyOS first"),null;let e=Ut();if(null==e)return console.error("BuckyOS WebSDK is not initialized,call initBuckyOS first"),null;if(t){let t=function(){let t=localStorage.getItem("buckyos.account_info");return null==t?null:JSON.parse(t)}();if(t)return Rt=t}kt(e);let n=Ht();if(null==n)return console.error("BuckyOS WebSDK is not initialized,call initBuckyOS first"),null;try{let t=new o(n,e),s=await t.login();return s&&(yt(e,s),Rt=s,Et.setSessionToken(s.session_token)),s}catch(s){throw console.error("login failed: ",s),s}},logout:function(t=!0){if(null==Et)return void console.error("BuckyOS WebSDK is not initialized,call initBuckyOS first");let e=Ut();null!=e?null!=Rt?(t&&kt(e),Et.setSessionToken(null)):console.error("BuckyOS WebSDK is not login,call login first"):console.error("BuckyOS WebSDK is not initialized,call initBuckyOS first")},hashPassword:gt,getAppSetting:function(t=null){},setAppSetting:function(t=null,e){},getCurrentWalletUser:async function(){const t=await window.BuckyApi.getCurrentUser();return 0==t.code?t.data:(console.error("BuckyApi.getCurrentUser failed: ",t.message),null)},walletSignWithActiveDid:async function(t){const e=await window.BuckyApi.signJsonWithActiveDid(t);return 0==e.code?e.data.signatures:(console.error("BuckyApi.signWithActiveDid failed: ",e.message),null)},getZoneHostName:Ht,getZoneServiceURL:function(t){if(null==Et)throw new Error("BuckyOS WebSDK is not initialized,call initBuckyOS first");return Et.getZoneServiceURL(t)},getServiceRpcClient:function(t){if(null==Et)throw console.error("BuckyOS WebSDK is not initialized,call initBuckyOS first"),new Error("BuckyOS WebSDK is not initialized,call initBuckyOS first");return Rt&&Et.setSessionToken(Rt.session_token),Et.getServiceRpcClient(t)},getVerifyHubClient:function(){if(null==Et)throw console.error("BuckyOS WebSDK is not initialized,call initBuckyOS first"),new Error("BuckyOS WebSDK is not initialized,call initBuckyOS first");return Et.getVerifyHubClient()},getTaskManagerClient:function(){if(null==Et)throw console.error("BuckyOS WebSDK is not initialized,call initBuckyOS first"),new Error("BuckyOS WebSDK is not initialized,call initBuckyOS first");return Et.getTaskManagerClient()},getOpenDanClient:function(){if(null==Et)throw console.error("BuckyOS WebSDK is not initialized,call initBuckyOS first"),new Error("BuckyOS WebSDK is not initialized,call initBuckyOS first");return Et.getOpenDanClient()}};t.BS_SERVICE_OPENDAN="opendan",t.BS_SERVICE_TASK_MANAGER="task-manager",t.BS_SERVICE_VERIFY_HUB="verify-hub",t.OpenDanClient=bt,t.RuntimeType=Ct,t.TaskManagerClient=Tt,t.VerifyHubClient=dt,t.WEB3_BRIDGE_HOST="web3.buckyos.ai",t.buckyos=Kt,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
//# sourceMappingURL=buckyos.umd.js.map
